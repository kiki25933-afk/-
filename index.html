<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°œì¸í™” NFC ëª…í•¨ - GOLD:ON</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #000000;
            background: #ffffff;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .edit-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: #000000;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .edit-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .dark-mode-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: #000000;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .dark-mode-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        body.dark-mode {
            background: #000000;
            color: #ffffff;
        }

        body.dark-mode .edit-toggle,
        body.dark-mode .dark-mode-toggle {
            background: #ffffff;
            color: #000000;
        }

        body.dark-mode .edit-panel {
            background: #1a1a1a;
            border-left: 1px solid #333;
        }

        body.dark-mode .edit-panel h3,
        body.dark-mode .form-group label {
            color: #ffffff;
        }

        body.dark-mode .form-group input,
        body.dark-mode .form-group textarea {
            background: #2a2a2a;
            border: 1px solid #444;
            color: #ffffff;
        }

        body.dark-mode .form-group input::placeholder,
        body.dark-mode .form-group textarea::placeholder {
            color: #666;
        }

        body.dark-mode .save-btn {
            background: #ffffff;
            color: #000000;
        }

        body.dark-mode .save-btn:hover {
            background: #e0e0e0;
        }

        body.dark-mode .logo {
            background: #ffffff;
        }
        
        /* ë‹¤í¬ ëª¨ë“œ ë¡œê³  SVG ìƒ‰ìƒ ìˆ˜ì • */
        body.dark-mode .logo-lightning svg path {
            fill: #000000;
            stroke: #000000;
        }

        body.dark-mode .company-name,
        body.dark-mode .brand-name {
            color: #ffffff;
        }

        body.dark-mode .tagline {
            color: #cccccc;
        }

        body.dark-mode .cta-btn {
            background: #ffffff;
            color: #000000;
            border: 1px solid #ffffff;
        }

        body.dark-mode .cta-btn:hover {
            background: #000000;
            color: #ffffff;
        }

        body.dark-mode .about-section {
            background: #0a0a0a;
        }

        body.dark-mode .about-content {
            background: #1a1a1a;
            border: 1px solid #333;
        }

        body.dark-mode .about-content h2 {
            color: #ffffff;
        }

        body.dark-mode .about-text {
            color: #cccccc;
        }

        body.dark-mode .skill-item {
            background: #2a2a2a;
            border: 1px solid #333;
        }

        body.dark-mode .skill-item h4 {
            color: #ffffff;
        }

        body.dark-mode .skill-item:hover {
            background: #ffffff;
            color: #000000;
        }

        body.dark-mode .skill-item:hover h4 {
            color: #000000;
        }

        body.dark-mode .contact-section {
            background: #000000;
        }

        body.dark-mode .contact-item {
            background: #1a1a1a;
            border: 1px solid #333;
        }

        body.dark-mode .contact-item h4 {
            color: #ffffff;
        }

        body.dark-mode .contact-item p {
            color: #999;
        }

        body.dark-mode .contact-item a {
            color: #ffffff;
        }

        body.dark-mode .contact-item:hover {
            background: #ffffff;
            color: #000000;
        }

        body.dark-mode .contact-item:hover h4,
        body.dark-mode .contact-item:hover a {
            color: #000000;
        }

        body.dark-mode .contact-item:hover p {
            color: #333;
        }

        body.dark-mode .company-info-section {
            background: #000000 !important;
            color: #ffffff;
        }

        body.dark-mode .company-info-section h3 {
            color: #ffffff !important;
        }

        body.dark-mode .company-info-section .company-stats > div > div:first-child {
            color: #ffffff !important;
        }

        body.dark-mode .company-info-section .company-stats > div > div:last-child {
            color: #cccccc !important;
        }

        /* ë‹¤í¬ëª¨ë“œì¼ ë•Œ ì„¸ë¶€ ê¸°ëŠ¥ ì¹´ë“œ ìˆ˜ì • */
        body.dark-mode .company-info-section > .container > div:last-child > div[style*="background: #ffffff"] {
            background: #1a1a1a !important; /* ë°°ê²½ìƒ‰ ì–´ë‘¡ê²Œ */
            border: 1px solid #333 !important; /* í…Œë‘ë¦¬ ì–´ë‘¡ê²Œ */
        }
        
        /* ë‹¤í¬ëª¨ë“œì¼ ë•Œ ì¹´ë“œ ë‚´ë¶€ì˜ í…ìŠ¤íŠ¸ì™€ ì œëª© ìƒ‰ìƒì„ ë°ê²Œ ìˆ˜ì • (ê°€ë…ì„± í™•ë³´) */
        body.dark-mode .company-info-section > .container > div:last-child > div[style*="background: #ffffff"] h4 {
            color: #ffffff !important; /* ì œëª©ì„ í°ìƒ‰ìœ¼ë¡œ */
        }
        body.dark-mode .company-info-section > .container > div:last-child > div[style*="background: #ffffff"] p {
            color: #cccccc !important; /* ë‚´ìš©ì„ ë°ì€ íšŒìƒ‰ìœ¼ë¡œ */
        }
        
        /* ë‹¤í¬ëª¨ë“œì¼ ë•Œ ì¹´ë“œ ë‚´ ê²€ì€ìƒ‰ ë°°ê²½ ì•„ì´ì½˜ ë¶€ë¶„ ìˆ˜ì • */
        body.dark-mode .company-info-section > .container > div:last-child > div[style*="background: #ffffff"] > div[style*="background: #000000"] {
            background: #ffffff !important; /* ë°°ê²½ìƒ‰ ë°ê²Œ */
            color: #000000 !important; /* ì•„ì´ì½˜ ìƒ‰ìƒ ì–´ë‘¡ê²Œ */
        }
        
        /* ë…¸ì…˜ SVG ì•„ì´ì½˜ ìƒ‰ìƒ ìˆ˜ì • (í…ìŠ¤íŠ¸ ê¸°ë°˜ì´ë¯€ë¡œ SVG ìŠ¤íƒ€ì¼ ì œê±°) */
        .contact-icon .notion-block {
            display: inline-block;
            width: 50px;
            height: 50px;
            background: #000000; /* ë¼ì´íŠ¸ ëª¨ë“œ ë°°ê²½ */
            color: #ffffff; /* ë¼ì´íŠ¸ ëª¨ë“œ ê¸€ììƒ‰ */
            border-radius: 10px;
            font-size: 2.5rem;
            font-weight: 700;
            line-height: 50px; /* í…ìŠ¤íŠ¸ ì¤‘ì•™ ì •ë ¬ */
            text-align: center;
            font-family: serif; /* Nì ëª¨ì–‘ì´ ë” ì˜ ë³´ì´ë„ë¡ ì„¸ë¦¬í”„ì²´ ì ìš© */
        }

        body.dark-mode .contact-icon .notion-block {
            background: #ffffff !important; /* ë‹¤í¬ ëª¨ë“œ ë°°ê²½ */
            color: #000000 !important; /* ë‹¤í¬ ëª¨ë“œ ê¸€ììƒ‰ */
        }


        body.dark-mode section[style*="background: #f8f8f8"] {
            background: #1a1a1a !important;
        }

        body.dark-mode section[style*="background: #f8f8f8"] h3 {
            color: #ffffff !important;
        }

        body.dark-mode section[style*="background: #f8f8f8"] .visit-count-container {
            background: #2a2a2a !important;
            border: 1px solid #444 !important;
        }

        body.dark-mode section[style*="background: #f8f8f8"] #visitCount {
            color: #ffffff !important;
        }

        body.dark-mode section[style*="background: #f8f8f8"] .visit-count-label {
            color: #999 !important;
        }

        body.dark-mode .chart-container {
            background: #2a2a2a !important;
            border: 1px solid #444 !important;
        }

        body.dark-mode .chart-container h4 {
            color: #ffffff !important;
        }

        body.dark-mode #easterEggIcon {
            color: #ffffff;
        }

        body.dark-mode footer {
            background: #ffffff !important;
            color: #000000 !important;
            border-top: 1px solid #e0e0e0 !important;
        }

        body.dark-mode footer .container > div:first-child > div:first-child {
            color: #000000 !important;
        }

        body.dark-mode footer a {
            color: #000000 !important;
        }

        body.dark-mode footer span,
        body.dark-mode footer p {
            color: #666 !important;
        }

        body.dark-mode footer > div > div:last-child {
            border-top: 1px solid #e0e0e0 !important;
        }

        body.dark-mode .preview-mode {
            background: #ffffff;
            color: #000000;
        }

        .edit-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: #ffffff;
            border-left: 1px solid #e0e0e0;
            transition: right 0.3s ease;
            overflow-y: auto;
            z-index: 999;
            padding: 20px;
        }

        .edit-panel.open {
            right: 0;
        }

        .edit-panel h3 {
            color: #000000;
            margin-bottom: 20px;
            font-size: 1.5rem;
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #000000;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            background: #ffffff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            color: #000000;
            font-size: 14px;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #000000;
            box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: #999;
        }

        .save-btn {
            width: 100%;
            padding: 15px;
            background: #000000;
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .save-btn:hover {
            background: #333333;
            transform: translateY(-2px);
        }

        .main-content {
            transition: margin-right 0.3s ease;
        }

        .main-content.editing {
            margin-right: 400px;
        }

        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            padding: 0 20px;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .logo {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto 30px;
            background: #000000;
            border-radius: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-lightning {
            width: 60px;
            height: 80px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-lightning svg {
            width: 100%;
            height: 100%;
        }
        
        .logo-lightning svg path {
            fill: #ffffff;
            stroke: #ffffff;
            stroke-width: 3;
            stroke-linejoin: round;
        }

        .logo-lightning img {
            max-width: 80px;
            max-height: 80px;
            object-fit: contain;
            display: block;
            margin: 0 auto;
        }

        .company-name {
            font-size: 4rem;
            font-weight: 900;
            color: #000000;
            margin-bottom: 15px;
            letter-spacing: 0.1em;
        }

        .brand-name {
            font-size: 2.5rem;
            font-weight: 700;
            color: #000000;
            margin-bottom: 10px;
            letter-spacing: 0.05em;
        }

        .tagline {
            font-size: 1.4rem;
            margin-bottom: 40px;
            color: #666666;
        }

        .cta-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 40px;
        }

        .cta-btn {
            padding: 15px 30px;
            background: #000000;
            color: white;
            text-decoration: none;
            border-radius: 50px;
            border: 1px solid #000000;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .cta-btn:hover {
            background: #ffffff;
            color: #000000;
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .about-section {
            padding: 100px 0;
            text-align: center;
            background: #f8f8f8;
        }

        .about-content {
            max-width: 800px;
            margin: 0 auto;
            background: #ffffff;
            padding: 60px;
            border-radius: 30px;
            border: 1px solid #e0e0e0;
        }

        .about-content h2 {
            color: #000000;
            font-size: 2.5rem;
            margin-bottom: 30px;
        }

        .about-text {
            font-size: 1.2rem;
            line-height: 1.8;
            color: #333333;
            margin-bottom: 40px;
        }

        .skills {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .skill-item {
            background: #f8f8f8;
            padding: 20px;
            border-radius: 15px;
            border: 1px solid #e0e0e0;
            transition: all 0.3s ease;
        }

        .skill-item:hover {
            background: #000000;
            color: #ffffff;
            transform: translateY(-5px);
        }

        .skill-item h4 {
            color: #000000;
            margin-bottom: 10px;
        }

        .skill-item:hover h4 {
            color: #ffffff;
        }

        .contact-section {
            padding: 100px 0;
        }

        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .contact-item {
            background: #f8f8f8;
            padding: 30px;
            border-radius: 20px;
            border: 1px solid #e0e0e0;
            text-align: center;
            transition: all 0.3s ease;
        }

        .contact-item:hover {
            background: #000000;
            color: #ffffff;
            transform: translateY(-5px);
        }

        .contact-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .contact-item h4 {
            color: #000000;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .contact-item:hover h4 {
            color: #ffffff;
        }

        .contact-item p {
            color: #666666;
            word-break: break-all;
        }

        .contact-item:hover p {
            color: #cccccc;
        }

        .contact-item a {
            color: #000000;
            text-decoration: none;
        }

        .contact-item:hover a {
            color: #ffffff;
        }

        .company-info-section {
            padding: 100px 0;
            background: #000000;
            color: #ffffff;
        }

        @media (max-width: 768px) {
            .edit-panel {
                width: 100%;
                right: -100%;
            }

            .main-content.editing {
                margin-right: 0;
            }

            .company-name {
                font-size: 2.5rem;
            }

            .brand-name {
                font-size: 2rem;
            }

            .tagline {
                font-size: 1.1rem;
            }

            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }

            .about-content {
                padding: 40px 30px;
            }
        }

        .preview-mode {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #000000;
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
            z-index: 1000;
            display: none;
        }

        .preview-mode.show {
            display: block;
        }
    </style>
</head>
<body>
    <button class="dark-mode-toggle" onclick="toggleDarkMode()">ğŸŒ“ ë‹¤í¬ëª¨ë“œ</button>
    <button class="edit-toggle" onclick="toggleEditMode()">âœï¸ ëª…í•¨ ì •ë³´ ìˆ˜ì •</button>

    <div class="preview-mode" id="previewAlert">
        ğŸ’¡ ì •ë³´ë¥¼ ìˆ˜ì •í•˜ë ¤ë©´ ìš°ìƒë‹¨ì˜ 'ëª…í•¨ ì •ë³´ ìˆ˜ì •' ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”
    </div>

    <div class="edit-panel" id="editPanel">
        <h3>ğŸ“ ëª…í•¨ ì •ë³´ ì…ë ¥</h3>
        
        <div class="form-group">
            <label for="userName">ì´ë¦„ *</label>
            <input type="text" id="userName" placeholder="í™ê¸¸ë™">
        </div>

        <div class="form-group">
            <label for="userTitle">ì§ì±… *</label>
            <input type="text" id="userTitle" placeholder="ëŒ€í‘œì´ì‚¬ / ë§ˆì¼€íŒ… íŒ€ì¥">
        </div>

        <div class="form-group">
            <label for="userCompany">íšŒì‚¬ëª…</label>
            <input type="text" id="userCompany" placeholder="í…Œí¬ ìŠ¤íƒ€íŠ¸ì—…">
        </div>

        <div class="form-group">
            <label for="userLogo">íšŒì‚¬ ë¡œê³  (ì„ íƒì‚¬í•­)</label>
            <input type="file" id="userLogo" accept="image/*" onchange="handleLogoUpload(event)" style="display: none;">
            <div style="display: flex; gap: 10px; align-items: center;">
                <button onclick="document.getElementById('userLogo').click()" style="padding: 10px 15px; background: #f8f8f8; border: 1px solid #e0e0e0; border-radius: 8px; color: #000; cursor: pointer;">
                    ğŸ“· ë¡œê³  ì„ íƒ
                </button>
                <button onclick="removeLogo()" style="padding: 10px 15px; background: #000; border: 1px solid #000; border-radius: 8px; color: #fff; cursor: pointer; display: none;" id="removeLogoBtn">
                    âŒ ë¡œê³  ì‚­ì œ
                </button>
            </div>
            <div id="logoPreview" style="margin-top: 10px; display: none;">
                <img id="logoPreviewImg" style="max-width: 100px; max-height: 100px; border-radius: 8px; border: 1px solid #e0e0e0;">
            </div>
        </div>

        <div class="form-group">
            <label for="userPhone">ì „í™”ë²ˆí˜¸</label>
            <input type="tel" id="userPhone" placeholder="010-1234-5678">
        </div>

        <div class="form-group">
            <label for="userEmail">ì´ë©”ì¼ *</label>
            <input type="email" id="userEmail" placeholder="name@company.com">
        </div>

        <div class="form-group">
            <label for="userWebsite">ì›¹ì‚¬ì´íŠ¸</label>
            <input type="url" id="userWebsite" placeholder="https://www.company.com">
        </div>

        <div class="form-group">
            <label for="userNotion">ë…¸ì…˜ í˜ì´ì§€</label>
            <input type="url" id="userNotion" placeholder="https://notion.so/your-page">
        </div>

        <div class="form-group">
            <label for="userSNS">SNS (ìœ íŠœë¸Œ, ì¸ìŠ¤íƒ€, í‹±í†¡ ë“±)</label>
            <input type="url" id="userSNS" placeholder="https://youtube.com/@channel">
        </div>

        <div class="form-group">
            <label for="userLinkedin">ë§í¬ë“œì¸</label>
            <input type="url" id="userLinkedin" placeholder="https://linkedin.com/in/username">
        </div>

        <div class="form-group">
            <label for="userAddress">ì£¼ì†Œ</label>
            <textarea id="userAddress" rows="2" placeholder="ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123"></textarea>
        </div>

        <div class="form-group">
            <label for="userBio">ì†Œê°œ</label>
            <textarea id="userBio" rows="3" placeholder="ê°„ë‹¨í•œ ìê¸°ì†Œê°œë¥¼ ì…ë ¥í•˜ì„¸ìš”"></textarea>
        </div>

        <div class="form-group">
            <label for="userSkills">ì£¼ìš” ìŠ¤í‚¬ (ì‰¼í‘œë¡œ êµ¬ë¶„)</label>
            <input type="text" id="userSkills" placeholder="React, Node.js, Python, AWS">
        </div>

        <button class="save-btn" onclick="saveProfile()">ğŸ’¾ í”„ë¡œí•„ ì €ì¥</button>
        <button class="save-btn" onclick="generateNFCLink()">ğŸ”— NFC ë§í¬ ìƒì„±</button>
        <button class="save-btn" onclick="downloadVCard()">ğŸ“‡ vCard ë‹¤ìš´ë¡œë“œ</button>
        <button class="save-btn" onclick="closeEditMode()" style="background: #f8f8f8; color: #000; border: 1px solid #e0e0e0;">ğŸ‘ï¸ í”„ë¦¬ë·° ëª¨ë“œ</button>
    </div>

    <div class="main-content" id="mainContent">
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <div class="logo">
                        <div class="logo-lightning">
                            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                <path d="M 65 5 L 30 45 L 50 45 L 25 95 L 75 35 L 50 35 Z" 
                                    fill="#ffffff" 
                                    stroke="#ffffff" 
                                    stroke-width="3" 
                                    stroke-linejoin="round" />
                            </svg>
                        </div>
                    </div>
                    <h1 class="company-name" id="displayCompany">íšŒì‚¬ëª…ì„ ì…ë ¥í•˜ì„¸ìš”</h1>
                    <p class="tagline" id="displayTitle">ì§ì±…ì„ ì…ë ¥í•˜ì„¸ìš”</p>
                    <h2 class="brand-name" id="displayName">ì‚¬ìš©ì ì´ë¦„</h2>
                    <div class="cta-buttons">
                        <a href="#" class="cta-btn" id="emailBtn">ğŸ“§ ì´ë©”ì¼</a>
                        <a href="#" class="cta-btn" id="phoneBtn">ğŸ“ ì „í™”</a>
                        <a href="#" class="cta-btn" id="notionBtn">ğŸ“‹ ë…¸ì…˜</a>
                        <a href="#" class="cta-btn" id="websiteBtn">ğŸŒ ì›¹ì‚¬ì´íŠ¸</a>
                    </div>
                </div>
            </div>
        </section>

        <section class="about-section">
            <div class="container">
                <div class="about-content">
                    <h2>About Me</h2>
                    <div class="about-text" id="displayBio">
                        ìê¸°ì†Œê°œë¥¼ ì…ë ¥í•˜ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
                    </div>
                    <div class="skills" id="displaySkills">
                    </div>
                </div>
            </div>
        </section>

        <section class="contact-section">
            <div class="container">
                <h2 style="text-align: center; color: #000000; font-size: 2.5rem; margin-bottom: 20px;">ì†Œì…œ</h2>
                <div class="contact-grid" id="contactGrid">
                </div>
            </div>
        </section>

        <section class="company-info-section">
            <div class="container">
                <div class="company-stats">
                    <h3 style="text-align: center; color: #ffffff; margin-bottom: 40px; font-size: 2rem;">GOLD:ON, ë””ì§€í„¸ ëª…í•¨ì˜ ë¯¸ë˜</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px; margin-bottom: 50px;">
                        <div style="text-align: center;">
                            <div style="font-size: 3rem; font-weight: 700; color: #ffffff; margin-bottom: 10px;">1,000+</div>
                            <div style="color: #cccccc; font-weight: 500;">ì œì‘ëœ NFC ëª…í•¨</div>
                        </div>
                        
                        <div style="text-align: center;">
                            <div style="font-size: 3rem; font-weight: 700; color: #ffffff; margin-bottom: 10px;">500+</div>
                            <div style="color: #cccccc; font-weight: 500;">ë§Œì¡±í•œ ê³ ê°ì‚¬</div>
                        </div>
                        
                        <div style="text-align: center;">
                            <div style="font-size: 3rem; font-weight: 700; color: #ffffff; margin-bottom: 10px;">98%</div>
                            <div style="color: #cccccc; font-weight: 500;">ê³ ê° ë§Œì¡±ë„</div>
                        </div>
                        
                        <div style="text-align: center;">
                            <div style="font-size: 3rem; font-weight: 700; color: #ffffff; margin-bottom: 10px;">24/7</div>
                            <div style="color: #cccccc; font-weight: 500;">ê¸°ìˆ  ì§€ì›</div>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px;">
                        <div style="background: #ffffff; padding: 25px; border-radius: 20px; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-8px)'" onmouseout="this.style.transform='translateY(0)'">
                            <div style="width: 50px; height: 50px; background: #000000; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.3rem; margin-bottom: 15px;">ğŸŒ±</div>
                            <h4 style="color: #000000; margin-bottom: 12px; font-size: 1.2rem;">ì¹œí™˜ê²½ ì†”ë£¨ì…˜</h4>
                            <p style="color: #666666; line-height: 1.5; font-size: 0.95rem;">ì¢…ì´ ëª…í•¨ì„ ëŒ€ì²´í•˜ì—¬ í™˜ê²½ë³´í˜¸ì— ê¸°ì—¬</p>
                        </div>
                        
                        <div style="background: #ffffff; padding: 25px; border-radius: 20px; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-8px)'" onmouseout="this.style.transform='translateY(0)'">
                            <div style="width: 50px; height: 50px; background: #000000; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.3rem; margin-bottom: 15px;">ğŸ“±</div>
                            <h4 style="color: #000000; margin-bottom: 12px; font-size: 1.2rem;">ê°„í¸í•œ NFC ì—°ë™</h4>
                            <p style="color: #666666; line-height: 1.5; font-size: 0.95rem;">ìŠ¤ë§ˆíŠ¸í°ì„ íƒœê·¸ì— ê°€ê¹Œì´ ëŒ€ê¸°ë§Œ í•˜ë©´ ì¦‰ì‹œ ì—°ê²°</p>
                        </div>
                        
                        <div style="background: #ffffff; padding: 25px; border-radius: 20px; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-8px)'" onmouseout="this.style.transform='translateY(0)'">
                            <div style="width: 50px; height: 50px; background: #000000; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.3rem; margin-bottom: 15px;">ğŸ¨</div>
                            <h4 style="color: #000000; margin-bottom: 12px; font-size: 1.2rem;">ë§ì¶¤í˜• ë””ìì¸</h4>
                            <p style="color: #666666; line-height: 1.5; font-size: 0.95rem;">ë¸Œëœë“œì— ë§ëŠ” ì»¤ìŠ¤í…€ ë””ìì¸ê³¼ 3D í”„ë¦°íŒ…</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section style="padding: 80px 0; background: #f8f8f8;">
            <div class="container">
                <h3 style="text-align: center; color: #000000; margin-bottom: 40px; font-size: 2rem;">ğŸ“Š ë‚˜ì˜ ëª…í•¨ ë°©ë¬¸ í†µê³„</h3>
                
                <div style="text-align: center; margin-bottom: 50px;">
                    <div class="visit-count-container" style="display: inline-block; background: #ffffff; padding: 20px 40px; border-radius: 20px; border: 1px solid #e0e0e0;">
                        <div style="font-size: 3rem; font-weight: 700; color: #000000;" id="visitCount">0</div>
                        <div class="visit-count-label" style="color: #666666; margin-top: 10px;">ì´ ë°©ë¬¸ì ìˆ˜</div>
                    </div>
                </div>

                <div class="chart-container" style="background: #ffffff; padding: 30px; border-radius: 20px; border: 1px solid #e0e0e0; margin-bottom: 30px;">
                    <h4 style="color: #000000; margin-bottom: 20px;">ìµœê·¼ 7ì¼ ë°©ë¬¸ í˜„í™©</h4>
                    <div style="display: flex; align-items: flex-end; justify-content: space-around; height: 200px; gap: 10px;" id="barChart">
                    </div>
                </div>

                <div style="text-align: center; margin-top: 50px;">
                    <div style="display: inline-block; padding: 20px; cursor: pointer;" onclick="tapCount()">
                        <div style="font-size: 2rem;" id="easterEggIcon">âš¡</div>
                        <p style="color: #666; font-size: 0.8rem; margin-top: 10px;">
                            ğŸ’¡ ë²ˆê°œë¥¼ 10ë²ˆ íƒ­í•´ë³´ì„¸ìš”!
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <footer style="background: #000000; color: #ffffff; text-align: center; padding: 40px 0;">
        <div class="container">
            <div style="margin-bottom: 20px;">
                <div style="font-size: 1.5rem; font-weight: 700; color: #ffffff; margin-bottom: 10px;">GOLD:ON</div>
                <p style="color: #cccccc; margin-bottom: 15px;">NFC ëª…í•¨ìš© ê³ í’ˆì§ˆ QR ì½”ë“œ ìƒì„± í”Œë«í¼</p>
                <div style="display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; flex-wrap: wrap;">
                    <a href="mailto:kiki25933@gmail.com" style="color: #ffffff; text-decoration: none;">kiki25933@gmail.com</a>
                    <span style="color: #666;">|</span>
                    <span style="color: #cccccc;">êµ­ë¦½êµ°ì‚°ëŒ€í•™êµ ì œ1í•™ìƒíšŒê´€ 4ì¸µ 408í˜¸</span>
                    <span style="color: #666;">|</span>
                    <span style="color: #cccccc;">010-6442-1602</span>
                </div>
            </div>
            <div style="border-top: 1px solid #333; padding-top: 20px; color: #999; font-size: 0.9rem;">
                <p>&copy; 2024 GOLD:ON. All rights reserved. | í˜ì‹ ì ì¸ NFC ì†”ë£¨ì…˜ìœ¼ë¡œ ë””ì§€í„¸ ëª…í•¨ ë¬¸í™”ë¥¼ ì„ ë„í•©ë‹ˆë‹¤.</p>
            </div>
        </div>
    </footer>

    <script>
        let isEditMode = false;
        let uploadedLogoData = null;
        let isDarkMode = false;

        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', isDarkMode ? 'enabled' : 'disabled');
            
            const btn = document.querySelector('.dark-mode-toggle');
            if (isDarkMode) {
                btn.textContent = 'â˜€ï¸ ë¼ì´íŠ¸ëª¨ë“œ';
                showNotification('ë‹¤í¬ëª¨ë“œ í™œì„±í™”!', 'success');
            } else {
                btn.textContent = 'ğŸŒ“ ë‹¤í¬ëª¨ë“œ';
                showNotification('ë¼ì´íŠ¸ëª¨ë“œ í™œì„±í™”!', 'success');
            }
            
            const historyKey = getVisitHistoryKey();
            let visitHistory = JSON.parse(localStorage.getItem(historyKey) || '{}');
            updateChart(visitHistory);
        }

        function checkDarkMode() {
            const darkModeStatus = localStorage.getItem('darkMode');
            if (darkModeStatus === 'enabled') {
                isDarkMode = true;
                document.body.classList.add('dark-mode');
                const btn = document.querySelector('.dark-mode-toggle');
                if (btn) btn.textContent = 'â˜€ï¸ ë¼ì´íŠ¸ëª¨ë“œ';
            }
        }

        function handleLogoUpload(event) {
            const file = event.target.files[0];
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    uploadedLogoData = e.target.result;
                    document.getElementById('logoPreviewImg').src = uploadedLogoData;
                    document.getElementById('logoPreview').style.display = 'block';
                    document.getElementById('removeLogoBtn').style.display = 'inline-block';
                    updateLogoDisplay();
                    showNotification('ë¡œê³ ê°€ ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                };
                reader.readAsDataURL(file);
            }
        }

        function removeLogo() {
            uploadedLogoData = null;
            document.getElementById('userLogo').value = '';
            document.getElementById('logoPreview').style.display = 'none';
            document.getElementById('removeLogoBtn').style.display = 'none';
            updateLogoDisplay();
            showNotification('ë¡œê³ ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤', 'info');
        }

        function updateLogoDisplay() {
            const logoContainer = document.querySelector('.logo');
            const logoLightning = document.querySelector('.logo-lightning');
            if (uploadedLogoData) {
                logoContainer.style.background = 'transparent'; 
                logoLightning.innerHTML = `<img src="${uploadedLogoData}" style="max-width: 80px; max-height: 80px; object-fit: contain; display: block; margin: 0 auto; border-radius: 8px;">`;
            } else {
                logoContainer.style.background = isDarkMode ? '#ffffff' : '#000000';
                logoLightning.innerHTML = `<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M 65 5 L 30 45 L 50 45 L 25 95 L 75 35 L 50 35 Z" fill="${isDarkMode ? '#000000' : '#ffffff'}" stroke="${isDarkMode ? '#000000' : '#ffffff'}" stroke-width="3" stroke-linejoin="round" /></svg>`;
            }
        }

        function toggleEditMode() {
            isEditMode = !isEditMode;
            const editPanel = document.getElementById('editPanel');
            const mainContent = document.getElementById('mainContent');
            const previewAlert = document.getElementById('previewAlert');
            if (isEditMode) {
                editPanel.classList.add('open');
                mainContent.classList.add('editing');
                previewAlert.classList.remove('show');
            } else {
                editPanel.classList.remove('open');
                mainContent.classList.remove('editing');
                previewAlert.classList.add('show');
                setTimeout(() => previewAlert.classList.remove('show'), 3000);
            }
        }

        function closeEditMode() {
            isEditMode = false;
            document.getElementById('editPanel').classList.remove('open');
            document.getElementById('mainContent').classList.remove('editing');
            const previewAlert = document.getElementById('previewAlert');
            previewAlert.classList.add('show');
            setTimeout(() => previewAlert.classList.remove('show'), 3000);
        }

        function updatePreview() {
            const name = document.getElementById('userName').value || 'ì‚¬ìš©ì ì´ë¦„';
            const title = document.getElementById('userTitle').value || 'ì§ì±…ì„ ì…ë ¥í•˜ì„¸ìš”';
            const company = document.getElementById('userCompany').value || 'íšŒì‚¬ëª…ì„ ì…ë ¥í•˜ì„¸ìš”';
            const phone = document.getElementById('userPhone').value;
            const email = document.getElementById('userEmail').value;
            const website = document.getElementById('userWebsite').value;
            const notion = document.getElementById('userNotion').value;
            const sns = document.getElementById('userSNS').value;
            const linkedin = document.getElementById('userLinkedin').value;
            const address = document.getElementById('userAddress').value;
            const bio = document.getElementById('userBio').value || 'ìê¸°ì†Œê°œë¥¼ ì…ë ¥í•˜ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.';
            const skills = document.getElementById('userSkills').value;

            document.getElementById('displayCompany').textContent = company;
            document.getElementById('displayTitle').textContent = title;
            document.getElementById('displayName').textContent = name;
            document.getElementById('displayBio').textContent = bio;

            document.getElementById('emailBtn').href = email ? `mailto:${email}` : '#';
            document.getElementById('phoneBtn').href = phone ? `tel:${phone}` : '#';
            document.getElementById('notionBtn').href = notion || '#';
            document.getElementById('websiteBtn').href = website || '#';

            document.getElementById('emailBtn').style.opacity = email ? '1' : '0.5';
            document.getElementById('phoneBtn').style.opacity = phone ? '1' : '0.5';
            document.getElementById('notionBtn').style.opacity = notion ? '1' : '0.5';
            document.getElementById('websiteBtn').style.opacity = website ? '1' : '0.5';

            updateSkills(skills);
            updateContactInfo(phone, email, website, notion, sns, linkedin, address);
        }

        function updateSkills(skillsText) {
            const skillsContainer = document.getElementById('displaySkills');
            skillsContainer.innerHTML = '';
            const skillLogos = {'python':'ğŸ','javascript':'ğŸ“•','java':'â˜•','c++':'ğŸ“—','c#':'ğŸ“˜','react':'âš›ï¸','vue':'â™¥ï¸','angular':'ğŸ”º','nodejs':'ğŸ“™','node.js':'â™ ï¸','html':'â™¦ï¸','css':'ğŸ“’','php':'â™£ï¸','ruby':'ğŸ’','swift':'ğŸ','kotlin':'ğŸ—','go':'â›ï¸','rust':'ğŸ¦€','photoshop':'ğŸ¨','illustrator':'ğŸ–Œï¸','premiere':'ğŸ¬','figma':'ğŸ¯','sketch':'âœï¸','xd':'ğŸ“±','blender':'ğŸ§Š','mysql':'ğŸ¬','postgresql':'ğŸ˜','mongodb':'ğŸƒ','redis':'âš’ï¸','oracle':'ğŸ”®','aws':'â˜','azure':'â˜','gcp':'â˜','docker':'ğŸ³','kubernetes':'â˜¸','jenkins':'ğŸ”§','git':'ğŸ“‚','github':'ğŸ™','excel':'ğŸ“Š','powerpoint':'ğŸ“½','word':'ğŸ“„','notion':'ğŸ“‹','slack':'ğŸ’¬','jira':'ğŸ“Œ','tensorflow':'ğŸ¤–','pytorch':'ğŸ”¥','ai':'ğŸ¤–','ì¸ê³µì§€ëŠ¥':'ğŸ¤–','machine learning':'ğŸ§ ','ë¨¸ì‹ ëŸ¬ë‹':'ğŸ§ ','seo':'ğŸ”','ë§ˆì¼€íŒ…':'ğŸ“ˆ','marketing':'ğŸ“ˆ','ê´‘ê³ ':'ğŸ“¢','sns':'ğŸ’¬','ì˜ìƒí¸ì§‘':'ğŸ¬','ì˜ìƒ':'ğŸ“¹','video':'ğŸ“¹','ìŒì•…':'ğŸµ','music':'ğŸµ'};
            if (skillsText && skillsText.trim()) {
                const skillsArray = skillsText.split(',').map(skill => skill.trim()).filter(skill => skill);
                skillsArray.forEach(skill => {
                    const skillItem = document.createElement('div');
                    skillItem.className = 'skill-item';
                    const skillLower = skill.toLowerCase();
                    let logo = '';
                    if (skillLogos[skillLower]) {
                        logo = skillLogos[skillLower];
                    } else {
                        for (const [key, value] of Object.entries(skillLogos)) {
                            if (skillLower.includes(key) || key.includes(skillLower)) {
                                logo = value;
                                break;
                            }
                        }
                    }
                    if (!logo) logo = 'âš¡';
                    skillItem.innerHTML = `<div style="font-size: 2rem; margin-bottom: 8px;">${logo}</div><h4>${skill}</h4>`;
                    skillsContainer.appendChild(skillItem);
                });
            } else {
                skillsContainer.innerHTML = '<div class="skill-item"><div style="font-size: 2rem; margin-bottom: 8px;">ğŸ’¡</div><h4>ìŠ¤í‚¬ì„ ì…ë ¥í•˜ì„¸ìš”</h4></div>';
            }
        }

        function updateContactInfo(phone, email, website, notion, sns, linkedin, address) {
            const contactGrid = document.getElementById('contactGrid');
            contactGrid.innerHTML = '';
            const contacts = [
                { icon: 'ğŸ“©', title: 'ì´ë©”ì¼', value: email, link: email ? `mailto:${email}` : null, type: 'text' },
                { icon: 'ğŸ“', title: 'ì „í™”', value: phone, link: phone ? `tel:${phone}` : null, type: 'text' },
                { icon: 'ğŸŒ', title: 'ì›¹ì‚¬ì´íŠ¸', value: website, link: website, type: 'text' },
                { icon: 'notion', title: 'ë…¸ì…˜', value: notion, link: notion, type: 'image' },
                { icon: 'youtube', title: 'SNS', value: sns, link: sns, type: 'image' },
                { icon: 'â™Ÿï¸', title: 'ë§í¬ë“œì¸', value: linkedin, link: linkedin, type: 'text' },
                { icon: 'ğŸ“Œ', title: 'ì£¼ì†Œ', value: address, link: null, type: 'text' }
            ];
            
            contacts.forEach(contact => {
                if (contact.value && contact.value.trim() !== '') {
                    const contactItem = document.createElement('div');
                    contactItem.className = 'contact-item';
                    const displayValue = contact.link ? contact.value.replace(/^(https?:\/\/(www\.)?)/, '').substring(0, 30) + (contact.value.length > 30 ? '...' : '') : contact.value;
                    
                    let iconHTML = `<div class="contact-icon">${contact.icon}</div>`;
                    
                    if (contact.type === 'image') {
                        if (contact.icon === 'youtube') {
                            iconHTML = `<div class="contact-icon" style="display: flex; align-items: center; justify-content: center;">
                                <svg width="60" height="42" viewBox="0 0 159 110" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M154 17.5c-1.82-6.73-7.07-12-13.8-13.8C128.2 0 79.5 0 79.5 0S30.8 0 18.8 3.7C12.07 5.5 6.82 10.77 5 17.5 1.45 29.5 1.45 55 1.45 55s0 25.5 3.55 37.5c1.82 6.73 7.07 12 13.8 13.8C30.8 110 79.5 110 79.5 110s48.7 0 60.7-3.7c6.73-1.8 11.98-7.07 13.8-13.8 3.55-12 3.55-37.5 3.55-37.5s0-25.5-3.55-37.5z" fill="#FF0000"/>
                                    <path d="M64 78.4V31.6L104.2 55 64 78.4z" fill="#FFFFFF"/>
                                </svg>
                            </div>`;
                        } else if (contact.icon === 'notion') {
                            // í…ìŠ¤íŠ¸ ê¸°ë°˜ 'N' ì•„ì´ì½˜
                            iconHTML = `<div class="contact-icon" style="display: flex; align-items: center; justify-content: center;">
                                <div class="notion-block">N</div>
                            </div>`;
                        }
                    }
                    
                    contactItem.innerHTML = `${iconHTML}<h4>${contact.title}</h4><p>${contact.link ? `<a href="${contact.link}" target="_blank">${displayValue}</a>` : displayValue}</p>`;
                    contactGrid.appendChild(contactItem);
                }
            });
            if (contactGrid.children.length === 0) {
                contactGrid.innerHTML = '<div class="contact-item"><div class="contact-icon">ğŸ“</div><h4>ì—°ë½ì²˜ ì •ë³´</h4><p>ì •ë³´ë¥¼ ì…ë ¥í•˜ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</p></div>';
            }
        }

        function saveProfile() {
            const profileData = {
                name: document.getElementById('userName').value,
                title: document.getElementById('userTitle').value,
                company: document.getElementById('userCompany').value,
                phone: document.getElementById('userPhone').value,
                email: document.getElementById('userEmail').value,
                website: document.getElementById('userWebsite').value,
                notion: document.getElementById('userNotion').value,
                sns: document.getElementById('userSNS').value,
                linkedin: document.getElementById('userLinkedin').value,
                address: document.getElementById('userAddress').value,
                bio: document.getElementById('userBio').value,
                skills: document.getElementById('userSkills').value,
                logo: uploadedLogoData
            };
            localStorage.setItem('nfcProfileData', JSON.stringify(profileData));
            showNotification('í”„ë¡œí•„ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
        }

        function generateNFCLink() {
            const profileData = {
                n: document.getElementById('userName').value,
                t: document.getElementById('userTitle').value,
                c: document.getElementById('userCompany').value,
                p: document.getElementById('userPhone').value,
                e: document.getElementById('userEmail').value,
                w: document.getElementById('userWebsite').value,
                nt: document.getElementById('userNotion').value,
                s: document.getElementById('userSNS').value,
                l: document.getElementById('userLinkedin').value,
                a: document.getElementById('userAddress').value,
                b: document.getElementById('userBio').value,
                sk: document.getElementById('userSkills').value
            };
            
            Object.keys(profileData).forEach(key => {
                if (!profileData[key] || profileData[key] === '.') {
                    delete profileData[key];
                }
            });
            
            const jsonString = JSON.stringify(profileData);
            const encoded = btoa(unescape(encodeURIComponent(jsonString)));
            const baseURL = window.location.origin + window.location.pathname;
            const nfcURL = `${baseURL}?d=${encoded}`;
            
            const textArea = document.createElement('textarea');
            textArea.value = nfcURL;
            textArea.style.position = 'fixed';
            textArea.style.opacity = '0';
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            
            showNotification(`ë§í¬ ë³µì‚¬ ì™„ë£Œ! (${nfcURL.length}ì)`, 'success');
            
            if (nfcURL.length > 500) {
                showNotification('âš ï¸ ë§í¬ê°€ 500ìë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤. bit.lyì—ì„œ ë‹¨ì¶•í•˜ì„¸ìš”.', 'info');
            }
        }

        function getVisitHistoryKey() {
            const params = new URLSearchParams(window.location.search);
            const encodedData = params.get('d');
            if (encodedData) {
                return 'nfc_visit_' + encodedData.substring(0, 20) + '_history';
            }
            return 'local_visit_history_default'; 
        }

        function getVisitCountKey() {
            const params = new URLSearchParams(window.location.search);
            const encodedData = params.get('d');
            if (encodedData) {
                return 'nfc_visit_' + encodedData.substring(0, 20) + '_count';
            }
            return 'localVisitCount_default';
        }

        function checkURLData() {
            const params = new URLSearchParams(window.location.search);
            const encodedData = params.get('d') || params.get('data');
            if (encodedData) {
                try {
                    const jsonString = decodeURIComponent(escape(atob(encodedData)));
                    const data = JSON.parse(jsonString);
                    
                    if (data.n || data.name) document.getElementById('userName').value = data.n || data.name;
                    if (data.t || data.title) document.getElementById('userTitle').value = data.t || data.title;
                    if (data.c || data.company) document.getElementById('userCompany').value = data.c || data.company;
                    if (data.p || data.phone) document.getElementById('userPhone').value = data.p || data.phone;
                    if (data.e || data.email) document.getElementById('userEmail').value = data.e || data.email;
                    if (data.w || data.website) document.getElementById('userWebsite').value = data.w || data.website;
                    if (data.nt || data.notion) document.getElementById('userNotion').value = data.nt || data.notion;
                    if (data.s || data.sns) document.getElementById('userSNS').value = data.s || data.sns;
                    if (data.l || data.linkedin) document.getElementById('userLinkedin').value = data.l || data.linkedin;
                    if (data.a || data.address) document.getElementById('userAddress').value = data.a || data.address;
                    if (data.b || data.bio) document.getElementById('userBio').value = data.b || data.bio;
                    if (data.sk || data.skills) document.getElementById('userSkills').value = data.sk || data.skills;
                    if (data.logo) {
                        uploadedLogoData = data.logo;
                        document.getElementById('logoPreviewImg').src = uploadedLogoData;
                        document.getElementById('logoPreview').style.display = 'block';
                        document.getElementById('removeLogoBtn').style.display = 'inline-block';
                        updateLogoDisplay();
                    }
                    updatePreview();
                    return true;
                } catch (e) {
                    console.error('URL ë°ì´í„° íŒŒì‹± ì˜¤ë¥˜:', e);
                }
            }
            return false;
        }

        function updateRealVisitorStats() {
            const visitCountKey = getVisitCountKey();
            const historyKey = getVisitHistoryKey();

            let visitCount = parseInt(localStorage.getItem(visitCountKey) || '0');
            visitCount++;
            localStorage.setItem(visitCountKey, visitCount.toString());
            
            const today = new Date().toDateString();
            let visitHistory = JSON.parse(localStorage.getItem(historyKey) || '{}');
            if (!visitHistory[today]) visitHistory[today] = 0;
            visitHistory[today]++;
            localStorage.setItem(historyKey, JSON.stringify(visitHistory));

            animateCounter(visitCount);
            updateChart(visitHistory);
        }

        function animateCounter(targetCount) {
            const countElement = document.getElementById('visitCount');
            if (countElement) {
                let currentCount = 0;
                const increment = Math.ceil(targetCount / 50);
                const timer = setInterval(() => {
                    currentCount += increment;
                    if (currentCount >= targetCount) {
                        currentCount = targetCount;
                        clearInterval(timer);
                    }
                    countElement.textContent = currentCount.toLocaleString();
                }, 20);
            }
        }

        function updateChart(visitHistory) {
            const chartContainer = document.getElementById('barChart');
            if (!chartContainer) return;
            const dayNames = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
            const weekData = [];
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                const dateStr = date.toDateString();
                const dayName = dayNames[date.getDay()];
                weekData.push({
                    day: i === 0 ? 'ì˜¤ëŠ˜' : dayName,
                    count: visitHistory[dateStr] || 0,
                    isToday: i === 0
                });
            }
            const maxCount = Math.max(1, ...weekData.map(d => d.count));
            let chartHTML = '';
            const isDark = document.body.classList.contains('dark-mode');
            weekData.forEach(item => {
                const heightPercent = Math.max(5, (item.count / maxCount) * 100);
                const color = item.isToday ? (isDark ? '#ffffff' : '#000000') : (isDark ? '#cccccc' : '#666666');
                const textColor = isDark ? '#ffffff' : '#000000';
                const dayColor = isDark ? '#999' : '#666666';
                chartHTML += `<div style="flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: flex-end; height: 100%;">${item.count > 0 ? `<span style="color: ${textColor}; font-size: 0.8rem; margin-bottom: 5px; opacity: 0.8;">${item.count}</span>` : ''}<div style="width: 100%; background: ${color}; border-radius: 5px 5px 0 0; transition: all 0.5s ease; height: ${heightPercent}%;"></div><span style="color: ${dayColor}; margin-top: 10px; font-size: 0.9rem;">${item.day}</span></div>`;
            });
            chartContainer.innerHTML = chartHTML;
        }

        function loadProfile() {
            if (checkURLData()) {
                updateRealVisitorStats();
                setTimeout(updatePreview, 100);
                return;
            }
            const saved = localStorage.getItem('nfcProfileData');
            if (saved) {
                try {
                    const data = JSON.parse(saved);
                    document.getElementById('userName').value = data.name || '';
                    document.getElementById('userTitle').value = data.title || '';
                    document.getElementById('userCompany').value = data.company || '';
                    document.getElementById('userPhone').value = data.phone || '';
                    document.getElementById('userEmail').value = data.email || '';
                    document.getElementById('userWebsite').value = data.website || '';
                    document.getElementById('userNotion').value = data.notion || '';
                    document.getElementById('userSNS').value = data.sns || '';
                    document.getElementById('userLinkedin').value = data.linkedin || '';
                    document.getElementById('userAddress').value = data.address || '';
                    document.getElementById('userBio').value = data.bio || '';
                    document.getElementById('userSkills').value = data.skills || '';
                    if (data.logo) {
                        uploadedLogoData = data.logo;
                        document.getElementById('logoPreviewImg').src = uploadedLogoData;
                        document.getElementById('logoPreview').style.display = 'block';
                        document.getElementById('removeLogoBtn').style.display = 'inline-block';
                        updateLogoDisplay();
                    }
                } catch (e) {
                    console.error('ë¡œì»¬ í”„ë¡œí•„ ë¡œë“œ ì˜¤ë¥˜:', e);
                }
            }
            
            // ë¡œì»¬ í…ŒìŠ¤íŠ¸ìš© ë°©ë¬¸ì í†µê³„ ì—…ë°ì´íŠ¸
            const localCountKey = getVisitCountKey();
            const localHistoryKey = getVisitHistoryKey();
            let localCount = parseInt(localStorage.getItem(localCountKey) || '0');
            animateCounter(localCount);
            let visitHistory = JSON.parse(localStorage.getItem(localHistoryKey) || '{}');
            updateChart(visitHistory);
            
            setTimeout(updatePreview, 100);
        }

        function downloadVCard() {
            const name = document.getElementById('userName').value || 'ì‚¬ìš©ì';
            const title = document.getElementById('userTitle').value;
            const company = document.getElementById('userCompany').value;
            const phone = document.getElementById('userPhone').value;
            const email = document.getElementById('userEmail').value;
            const website = document.getElementById('userWebsite').value;
            const address = document.getElementById('userAddress').value;
            const vCardData = `BEGIN:VCARD\nVERSION:3.0\nFN:${name}\n${title ? `TITLE:${title}` : ''}${company ? `\nORG:${company}` : ''}${phone ? `\nTEL:${phone}` : ''}${email ? `\nEMAIL:${email}` : ''}${website ? `\nURL:${website}` : ''}${address ? `\nADR:;;${address};;;;` : ''}\nNOTE:GOLD:ON NFC ë””ì§€í„¸ ëª…í•¨\nEND:VCARD`.replace(/\n\n+/g, '\n');
            const blob = new Blob([vCardData], { type: 'text/vcard;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `${name}_ëª…í•¨.vcf`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
            showNotification('vCardê°€ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            const bgColor = type === 'success' ? '#000000' : '#333333';
            const textColor = 'white';
            
            // ë‹¤í¬ ëª¨ë“œì¼ ë•Œ ì•Œë¦¼ì°½ ìƒ‰ìƒ ë°˜ì „
            if (document.body.classList.contains('dark-mode')) {
                const darkModeBg = type === 'success' ? '#ffffff' : '#444444';
                const darkModeText = type === 'success' ? '#000000' : '#ffffff';
                notification.style.cssText = `position: fixed;top: 20px;left: 50%;transform: translateX(-50%);background: ${darkModeBg};color: ${darkModeText};padding: 15px 25px;border-radius: 25px;z-index: 10000;box-shadow: 0 10px 30px rgba(255,255,255,0.3);font-weight: 500;transition: all 0.3s ease-out;`;
            } else {
                notification.style.cssText = `position: fixed;top: 20px;left: 50%;transform: translateX(-50%);background: ${bgColor};color: ${textColor};padding: 15px 25px;border-radius: 25px;z-index: 10000;box-shadow: 0 10px 30px rgba(0,0,0,0.3);font-weight: 500;transition: all 0.3s ease-out;`;
            }

            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => {
                notification.style.transform = 'translateX(-50%) translateY(-20px)';
                notification.style.opacity = '0';
                setTimeout(() => document.body.removeChild(notification), 300);
            }, 3000);
        }

        let tapCounter = 0;
        let tapTimer = null;

        function tapCount() {
            tapCounter++;
            const icon = document.getElementById('easterEggIcon');
            if (icon) {
                icon.style.transform = `scale(${1 + tapCounter * 0.05}) rotate(${tapCounter * 36}deg)`;
                icon.style.transition = 'transform 0.3s ease';
            }
            clearTimeout(tapTimer);
            tapTimer = setTimeout(() => {
                tapCounter = 0;
                if (icon) {
                    icon.style.transform = 'scale(1) rotate(0deg)';
                }
            }, 2000);
            if (tapCounter === 10) {
                activateEasterEgg();
                tapCounter = 0;
            }
        }

        function activateEasterEgg() {
            if (navigator.vibrate) {
                navigator.vibrate([100, 50, 100, 50, 200]);
            }
            const emojis = ['âš¡', 'ğŸ‰', 'ğŸŒŸ', 'ğŸ’«', 'âœ¨', 'ğŸŠ', 'ğŸ¯', 'ğŸ†', 'ğŸ’', 'ğŸš€'];
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    createEmojiRain(emojis[Math.floor(Math.random() * emojis.length)]);
                }, i * 100);
            }
            showNotification('ğŸ‰ GOLDIONì„ ì´ìš©í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ âš¡', 'success');
            const logo = document.querySelector('.logo');
            if (logo) {
                logo.style.animation = 'bounce 1s ease infinite';
                setTimeout(() => {
                    logo.style.animation = '';
                }, 3000);
            }
        }

        function createEmojiRain(emoji) {
            const emojiElement = document.createElement('div');
            emojiElement.textContent = emoji;
            emojiElement.style.cssText = `position: fixed;top: -50px;left: ${Math.random() * window.innerWidth}px;font-size: 2rem;z-index: 9999;pointer-events: none;animation: emojifall 3s linear forwards;`;
            document.body.appendChild(emojiElement);
            setTimeout(() => {
                emojiElement.remove();
            }, 3000);
        }

        const style = document.createElement('style');
        style.textContent = `@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes emojifall{to{top:100vh;transform:rotate(360deg);opacity:0}}`;
        document.head.appendChild(style);

        window.addEventListener('load', function() {
            checkDarkMode();
            loadProfile();
            const inputFields = ['userName', 'userTitle', 'userCompany', 'userPhone', 'userEmail', 'userWebsite', 'userNotion', 'userSNS', 'userLinkedin', 'userAddress', 'userBio', 'userSkills'];
            inputFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.addEventListener('input', updatePreview);
                    field.addEventListener('keyup', updatePreview);
                    field.addEventListener('change', updatePreview);
                }
            });
            setTimeout(updatePreview, 100);
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('d')) {
                setTimeout(() => {
                    showNotification('NFC ëª…í•¨ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!', 'success');
                }, 1000);
            } else {
                setTimeout(() => {
                    const hasVisited = localStorage.getItem('hasVisitedNFCProfile');
                    if (!hasVisited) {
                        showNotification('ìš°ìƒë‹¨ ë²„íŠ¼ì„ í´ë¦­í•´ì„œ ë‚˜ë§Œì˜ ëª…í•¨ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”!', 'info');
                        localStorage.setItem('hasVisitedNFCProfile', 'true');
                    }
                }, 2000);
            }
        });

        document.addEventListener('keydown', function(e) {
            if ((e.ctrlKey || e.metaKey) && e.key === 'e') {
                e.preventDefault();
                toggleEditMode();
            }
            if (e.key === 'Escape' && isEditMode) {
                closeEditMode();
            }
        });

        let touchStartX = 0;
        document.addEventListener('touchstart', function(e) {
            touchStartX = e.touches[0].clientX;
        });

        document.addEventListener('touchend', function(e) {
            const touchEndX = e.changedTouches[0].clientX;
            const diff = touchStartX - touchEndX;
            if (diff > 100 && !isEditMode) {
                toggleEditMode();
            }
            else if (diff < -100 && isEditMode) {
                closeEditMode();
            }
        });
    </script>
</body>
</html>
