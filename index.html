<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Í∞úÏù∏Ìôî NFC Î™ÖÌï® - GOLD:ON</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        /* ÎùºÏù¥Ìä∏Î™®Îìú Í∏∞Î≥∏ ÏÑ§Ï†ï - Î™ÖÌôïÌïòÍ≤å */
        html, body {
            background-color: #ffffff !important;
            color: #000000 !important;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            overflow-x: hidden;
            width: 100%;
            transition: all 0.3s ease;
            min-height: 100vh;
        }
        
        /* Îã§ÌÅ¨Î™®Îìú - ÏôÑÏ†ÑÌûà Ïñ¥ÎëêÏö¥ Î∞∞Í≤Ω */
        body.dark-mode {
            background-color: #000000 !important;
            color: #ffffff !important;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        .dark-mode-toggle, .edit-toggle {
            position: fixed;
            top: 20px;
            z-index: 1001;
            background: #000;
            color: #fff;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        .dark-mode-toggle { left: 20px; }
        .edit-toggle {
            bottom: 90px;
            top: auto;
            right: 30px;
            padding: 16px 32px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 700;
            box-shadow: 0 8px 30px rgba(0,0,0,0.3);
        }
        
        body.dark-mode .edit-toggle,
        body.dark-mode .dark-mode-toggle {
            background: #ffffff;
            color: #000000;
            box-shadow: 0 4px 20px rgba(255, 255, 255, 0.3);
        }
        
        /* ÌïòÎã® ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Î∞î */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 70px;
            background: #ffffff;
            border-top: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-around;
            align-items: center;
            z-index: 1000;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
        }
        body.dark-mode .bottom-nav {
            background: #111111;
            border-top: 1px solid #333333;
        }
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            color: #666666;
        }
        body.dark-mode .nav-item {
            color: #888888;
        }
        .nav-item:hover,
        .nav-item.active {
            color: #000000;
            background: rgba(0, 0, 0, 0.05);
        }
        body.dark-mode .nav-item:hover,
        body.dark-mode .nav-item.active {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.1);
        }
        .nav-item .icon {
            font-size: 1.5rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .nav-item .icon svg {
            width: 24px;
            height: 24px;
            stroke: currentColor;
            fill: currentColor;
        }
        
        .nav-item .label {
            font-size: 0.7rem;
            font-weight: 600;
        }
        
        .page {
            display: none;
            min-height: 100vh;
            padding: 80px 0 100px;
            background: transparent;
        }
        .page.active {
            display: block;
        }
        
        .main-content {
            padding-bottom: 80px;
        }
        
        /* Hero ÏÑπÏÖò */
        .hero {
            min-height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            flex-direction: column;
            width: 100%;
            padding: 0;
        }
        
        /* Î™ÖÌï® Ïπ¥Îìú 3D */
        .card-3d-wrapper {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 50px 0;
        }
        
        .card-3d {
            perspective: 1500px;
            width: 320px;
            height: 200px;
            cursor: grab;
            user-select: none;
            margin: 0 auto;
        }
        
        @media (min-width: 400px) {
            .card-3d {
                width: 360px;
                height: 225px;
            }
        }
        
        @media (min-width: 500px) {
            .card-3d {
                width: 85.5mm;
                height: 54mm;
            }
        }
        
        .card-3d:active {
            cursor: grabbing;
        }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.1s ease-out;
            transform-style: preserve-3d;
        }
        
        .business-card {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            overflow: hidden;
            backface-visibility: hidden;
            border: 2px solid #333333;
        }
        body.dark-mode .business-card {
            background: linear-gradient(135deg, #ffffff 0%, #f5f5f5 100%);
            border: 2px solid #ffffff;
            box-shadow: 
                0 20px 60px rgba(255,255,255,0.3),
                0 0 20px rgba(255,255,255,0.5),
                inset 0 0 20px rgba(255,255,255,0.1);
            animation: cardGlow 3s ease-in-out infinite;
        }
        
        @keyframes cardGlow {
            0%, 100% {
                box-shadow: 
                    0 20px 60px rgba(255,255,255,0.3),
                    0 0 20px rgba(255,255,255,0.5),
                    inset 0 0 20px rgba(255,255,255,0.1);
            }
            50% {
                box-shadow: 
                    0 20px 60px rgba(255,255,255,0.4),
                    0 0 30px rgba(255,255,255,0.8),
                    inset 0 0 30px rgba(255,255,255,0.2);
            }
        }
        
        .card-front {
            z-index: 2;
            transform: rotateY(0deg);
        }
        .card-back {
            transform: rotateY(180deg);
            background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%);
        }
        body.dark-mode .card-back {
            background: linear-gradient(135deg, #f5f5f5 0%, #ffffff 100%);
        }
        .business-card.has-custom-design {
            padding: 0;
        }
        .business-card.has-custom-design .card-content {
            display: none;
        }
        .card-custom-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 12px;
            display: none;
        }
        .business-card.has-custom-design .card-custom-image {
            display: block;
        }
        
        .card-corner-tl,
        .card-corner-tr,
        .card-corner-bl,
        .card-corner-br {
            position: absolute;
            width: 15px;
            height: 15px;
            border: 2px solid rgba(255,255,255,0.3);
            z-index: 10;
        }
        body.dark-mode .card-corner-tl,
        body.dark-mode .card-corner-tr,
        body.dark-mode .card-corner-bl,
        body.dark-mode .card-corner-br {
            border-color: rgba(0, 0, 0, 0.3);
        }
        .card-corner-tl {
            top: -2px;
            left: -2px;
            border-right: none;
            border-bottom: none;
            border-top-left-radius: 12px;
        }
        .card-corner-tr {
            top: -2px;
            right: -2px;
            border-left: none;
            border-bottom: none;
            border-top-right-radius: 12px;
        }
        .card-corner-bl {
            bottom: -2px;
            left: -2px;
            border-right: none;
            border-top: none;
            border-bottom-left-radius: 12px;
        }
        .card-corner-br {
            bottom: -2px;
            right: -2px;
            border-left: none;
            border-top: none;
            border-bottom-right-radius: 12px;
        }
        
        .card-chip {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 35px;
            height: 28px;
            background: linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 50%, #c0c0c0 100%);
            border-radius: 4px;
        }
        .card-logo {
            width: 40px;
            height: 40px;
            background: #000000;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }
        body.dark-mode .card-logo {
            background: #ffffff;
            color: #000000;
        }
        .card-name {
            font-size: clamp(1rem, 4vw, 1.3rem);
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 3px;
        }
        body.dark-mode .card-name {
            color: #000000;
        }
        .card-title {
            font-size: clamp(0.65rem, 3vw, 0.75rem);
            color: #999999;
            margin-bottom: 12px;
        }
        body.dark-mode .card-title {
            color: #666666;
        }
        .card-contact {
            font-size: clamp(0.6rem, 2.5vw, 0.7rem);
            color: #cccccc;
        }
        body.dark-mode .card-contact {
            color: #333333;
        }
        
        /* Ìé∏Ïßë Ìå®ÎÑê */
        .edit-panel {
            position: fixed;
            top: 0;
            right: -450px;
            width: 450px;
            height: 100vh;
            background: #ffffff;
            border-left: 1px solid #e0e0e0;
            transition: right 0.3s ease;
            overflow-y: auto;
            z-index: 9999;
            padding: 40px 20px;
            box-shadow: -5px 0 30px rgba(0,0,0,0.1);
        }
        .edit-panel.open {
            right: 0;
        }
        body.dark-mode .edit-panel {
            background: #000000;
            border-left: 1px solid #333333;
        }
        .edit-panel h3 {
            color: #000000;
            margin-bottom: 15px;
            font-size: 2.2rem;
            text-align: center;
            font-weight: 900;
        }
        body.dark-mode .edit-panel h3 {
            color: #ffffff;
        }
        
        .form-group {
            margin-bottom: 15px;
            padding: 0;
        }
        .form-group label {
            display: none;
        }
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 16px;
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            color: #000000;
            font-size: 15px;
            transition: all 0.3s ease;
            margin-bottom: 0;
        }
        body.dark-mode .form-group input,
        body.dark-mode .form-group textarea {
            background: #111111;
            border: 1px solid #333333;
            color: #ffffff;
        }
        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            background: #ffffff;
            box-shadow: 0 0 0 2px #000000;
        }
        body.dark-mode .form-group input:focus,
        body.dark-mode .form-group textarea:focus {
            background: #000000;
            box-shadow: 0 0 0 2px #ffffff;
        }
        
        /* ÏûÖÎ†• ÌïÑÎìú Ìò∏Î≤Ñ Ìö®Í≥º Ï∂îÍ∞Ä */
        .form-group input:hover,
        .form-group textarea:hover {
            background: #ffffff;
            border-color: #000000;
        }
        body.dark-mode .form-group input:hover,
        body.dark-mode .form-group textarea:hover {
            background: #000000;
            border-color: #ffffff;
        }
        
        .save-btn {
            width: 100%;
            padding: 16px;
            background: #000000;
            color: #ffffff;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            background: #ffffff;
            color: #000000;
        }
        body.dark-mode .save-btn {
            background: #ffffff;
            color: #000000;
        }
        body.dark-mode .save-btn:hover {
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0.2);
            background: #000000;
            color: #ffffff;
        }
        
        .about-section {
            padding: 100px 0 50px;
            text-align: center;
            background: #f8f8f8;
        }
        body.dark-mode .about-section {
            background: #000000 !important;
        }
        
        .about-content {
            max-width: 800px;
            margin: 0 auto;
            background: #ffffff;
            padding: 60px;
            border-radius: 30px;
            border: 1px solid #e0e0e0;
            margin-bottom: 100px;
            transition: all 0.3s ease;
        }
        body.dark-mode .about-content {
            background: #111111;
            border: 1px solid #333333;
        }
        
        /* ABOUT Ïπ¥Îìú Ìò∏Î≤Ñ Ìö®Í≥º */
        .about-content:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            border: 2px solid #000000;
        }
        body.dark-mode .about-content:hover {
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.15);
            border: 2px solid #ffffff;
        }
        
        .portfolio-section {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        .portfolio-section h2 {
            color: #000000;
            font-size: 2.5rem;
            margin-bottom: 50px;
            text-align: center;
        }
        body.dark-mode .portfolio-section h2 {
            color: #ffffff;
        }
        .about-content h2 {
            color: #000000;
            font-size: 2.5rem;
            margin-bottom: 30px;
        }
        body.dark-mode .about-content h2 {
            color: #ffffff;
        }
        
        .about-text {
            font-size: 1.2rem;
            line-height: 1.8;
            color: #333333;
            margin-bottom: 40px;
        }
        body.dark-mode .about-text {
            color: #cccccc;
        }
        
        /* Skills Ïπ¥Îìú */
        .skills-card {
            background: #f8f9fa;
            border-radius: 20px;
            padding: 40px;
            border: 1px solid #e0e0e0;
            text-align: center;
            transition: all 0.3s ease;
        }
        body.dark-mode .skills-card {
            background: #0a0a0a !important;
            border-color: #333333 !important;
        }
        
        /* Skills Ïπ¥Îìú Ìò∏Î≤Ñ Ìö®Í≥º */
        .skills-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            background: #ffffff;
            border: 2px solid #000000;
        }
        body.dark-mode .skills-card:hover {
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.15);
            background: #000000 !important;
            border: 2px solid #ffffff !important;
        }
        
        .skills-card .icon {
            font-size: 3rem;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            color: #000000;
        }
        body.dark-mode .skills-card .icon {
            color: #ffffff;
        }
        .skills-card:hover .icon {
            color: #ffffff;
        }
        body.dark-mode .skills-card:hover .icon {
            color: #000000;
        }
        .skills-card .content {
            font-size: 1.1rem;
            color: #666666;
            line-height: 1.8;
        }
        body.dark-mode .skills-card .content {
            color: #cccccc !important;
        }
        
        
        /* Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ Ïπ¥Îìú Ïä§ÌÉÄÏùº - Ïπ¥Îìú Ïä§ÌÉù Ïä¨ÎùºÏù¥Îçî */
        .portfolio-slider {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 50px auto;
            perspective: 1500px;
            height: 500px;
            overflow: visible;
        }
        
        .portfolio-slider-container {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
        }
        
        .portfolio-slide {
            position: absolute;
            width: 90%;
            height: 450px;
            left: 5%;
            top: 0;
            transition: all 0.6s cubic-bezier(0.4, 0.0, 0.2, 1);
            transform-style: preserve-3d;
        }
        
        .portfolio-slide-card {
            background: transparent;
            border-radius: 25px;
            padding: 0;
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.3),
                0 0 0 1px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            border: 3px solid #e0e0e0;
            height: 100%;
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        body.dark-mode .portfolio-slide-card {
            background: transparent;
            box-shadow: 
                0 20px 60px rgba(255, 255, 255, 0.15),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            border: 3px solid #333333;
        }
        
        /* ÏñëÏòÜ Í∑∏Î¶ºÏûê Ìö®Í≥º */
        .portfolio-slide-card::before,
        .portfolio-slide-card::after {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            width: 50px;
            pointer-events: none;
            z-index: 1;
        }
        
        .portfolio-slide-card::before {
            left: -50px;
            background: linear-gradient(to right, rgba(0,0,0,0.3), transparent);
        }
        
        .portfolio-slide-card::after {
            right: -50px;
            background: linear-gradient(to left, rgba(0,0,0,0.3), transparent);
        }
        
        body.dark-mode .portfolio-slide-card::before {
            background: linear-gradient(to right, rgba(255,255,255,0.2), transparent);
        }
        
        body.dark-mode .portfolio-slide-card::after {
            background: linear-gradient(to left, rgba(255,255,255,0.2), transparent);
        }
        
        .portfolio-slide-card:hover {
            transform: scale(1.02);
            border-color: #000000;
        }
        
        body.dark-mode .portfolio-slide-card:hover {
            border-color: #ffffff;
        }
        
        .portfolio-slide-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 22px;
        }
        
        .portfolio-slide-card .portfolio-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.7) 50%, transparent 100%);
            padding: 30px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        body.dark-mode .portfolio-slide-card .portfolio-overlay {
            background: linear-gradient(to top, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.8) 50%, transparent 100%);
        }
        
        .portfolio-slide-card:hover .portfolio-overlay {
            opacity: 1;
        }
        
        .portfolio-slide-card .title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #ffffff;
            text-align: center;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        body.dark-mode .portfolio-slide-card .title {
            color: #000000;
            text-shadow: 0 2px 4px rgba(255, 255, 255, 0.3);
        }
        
        .portfolio-slide-card .description {
            font-size: 1rem;
            color: #cccccc;
            text-align: center;
            line-height: 1.6;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        body.dark-mode .portfolio-slide-card .description {
            color: #333333;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.3);
        }
        
        .portfolio-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: #ffffff;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            z-index: 100;
            transition: all 0.3s ease;
        }
        
        body.dark-mode .portfolio-nav {
            background: rgba(255, 255, 255, 0.9);
            color: #000000;
        }
        
        .portfolio-nav:hover {
            background: #ffffff;
            color: #000000;
            transform: translateY(-50%) scale(1.15);
        }
        
        body.dark-mode .portfolio-nav:hover {
            background: #000000;
            color: #ffffff;
        }
        
        .portfolio-nav-prev {
            left: -70px;
        }
        
        .portfolio-nav-next {
            right: -70px;
        }
        
        .portfolio-indicators {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 30px;
        }
        
        .portfolio-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #cccccc;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        body.dark-mode .portfolio-indicator {
            background: #333333;
        }
        
        .portfolio-indicator.active {
            background: #000000;
            width: 30px;
            border-radius: 6px;
        }
        
        body.dark-mode .portfolio-indicator.active {
            background: #ffffff;
        }
        
        @media (max-width: 768px) {
            .portfolio-slider {
                max-width: 90%;
                height: 480px;
            }
            
            .portfolio-slide {
                width: 100%;
                left: 0;
            }
            
            .portfolio-nav-prev {
                left: 10px;
            }
            .portfolio-nav-next {
                right: 10px;
            }
        }
        
        /* ÏÜåÏÖú ÎßÅÌÅ¨ Ïπ¥Îìú */
        .social-card {
            background: #ffffff;
            border-radius: 30px;
            padding: 50px;
            border: 1px solid #e0e0e0;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        body.dark-mode .social-card {
            background: #111111 !important;
            border-color: #333333 !important;
        }
        
        /* ÏÜåÏÖú Ïπ¥Îìú Ìò∏Î≤Ñ Ìö®Í≥º - ÏÉâÏÉÅ Î∞òÏ†Ñ */
        .social-card:hover {
            background: #000000 !important;
            border: 2px solid #ffffff !important;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        .social-card:hover .social-icon {
            transform: scale(1.1);
        }
        .social-card:hover h3 {
            color: #ffffff !important;
        }
        .social-card:hover p {
            color: #cccccc !important;
        }
        
        body.dark-mode .social-card:hover {
            background: #ffffff !important;
            border: 2px solid #000000 !important;
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.2);
        }
        body.dark-mode .social-card:hover h3 {
            color: #000000 !important;
        }
        body.dark-mode .social-card:hover p {
            color: #333333 !important;
        }
        
        .social-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            color: #000000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .social-icon svg {
            width: 60px;
            height: 60px;
            fill: currentColor;
        }
        
        body.dark-mode .social-icon {
            color: #ffffff;
        }
        /* Ìò∏Î≤ÑÏãú ÏïÑÏù¥ÏΩò ÏÉâÏÉÅ Î∞òÏ†Ñ */
        .social-card:hover .social-icon {
            color: #ffffff;
        }
        body.dark-mode .social-card:hover .social-icon {
            color: #000000;
        }
        .social-card h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #000000;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }
        body.dark-mode .social-card h3 {
            color: #ffffff !important;
        }
        .social-card p {
            color: #666666;
            font-size: 0.9rem;
            word-break: break-all;
            transition: all 0.3s ease;
        }
        body.dark-mode .social-card p {
            color: #cccccc !important;
        }
        
        /* ÏÜåÏÖú ÏïàÎÇ¥ Ïπ¥Îìú */
        .social-info-card {
            background: #ffffff;
            border-radius: 30px;
            padding: 50px;
            border: 1px solid #e0e0e0;
            max-width: 800px;
            margin: 0 auto 30px;
            transition: all 0.3s ease;
        }
        body.dark-mode .social-info-card {
            background: #111111 !important;
            border-color: #333333 !important;
        }
        
        /* ÏÜåÏÖú ÏïàÎÇ¥ Ïπ¥Îìú Ìò∏Î≤Ñ Ìö®Í≥º */
        .social-info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            border: 2px solid #000000;
        }
        body.dark-mode .social-info-card:hover {
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.15);
            border: 2px solid #ffffff;
        }
        
        /* ÏÜåÏÖú ÏïàÎÇ¥ Ïπ¥Îìú ÌÖçÏä§Ìä∏ ÏÉâÏÉÅ */
        .social-info-icon {
            color: #000000;
            transition: all 0.3s ease;
        }
        body.dark-mode .social-info-icon {
            color: #ffffff;
        }
        
        .social-info-title {
            color: #000000;
            transition: all 0.3s ease;
        }
        body.dark-mode .social-info-title {
            color: #ffffff;
        }
        
        .social-info-text {
            color: #666666;
            transition: all 0.3s ease;
        }
        body.dark-mode .social-info-text {
            color: #999999;
        }
        
        /* Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ Î™®Îã¨ - Ïä§ÏôÄÏù¥ÌîÑ Í∏∞Îä• Ï∂îÍ∞Ä */
        .portfolio-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 9999;
            align-items: center;
            justify-content: center;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }
        .portfolio-modal.active {
            display: flex;
        }
        .modal-content-wrapper {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            display: flex;
            align-items: center;
            justify-content: center;
            touch-action: pan-y;
            user-select: none;
        }
        .portfolio-modal img {
            max-width: 100%;
            max-height: 85vh;
            object-fit: contain;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            transform-style: preserve-3d;
        }
        
        /* Ïù¥ÎØ∏ÏßÄ Ï†ÑÌôò Ïï†ÎãàÎ©îÏù¥ÏÖò */
        .portfolio-modal img.rotate-left {
            animation: rotateOutLeft 0.5s ease-out forwards;
        }
        .portfolio-modal img.rotate-right {
            animation: rotateOutRight 0.5s ease-out forwards;
        }
        .portfolio-modal img.rotate-in-left {
            animation: rotateInLeft 0.5s ease-out forwards;
        }
        .portfolio-modal img.rotate-in-right {
            animation: rotateInRight 0.5s ease-out forwards;
        }
        
        @keyframes rotateOutLeft {
            0% {
                transform: translateX(0) rotateY(0deg) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateX(-100%) rotateY(-90deg) scale(0.8);
                opacity: 0;
            }
        }
        
        @keyframes rotateOutRight {
            0% {
                transform: translateX(0) rotateY(0deg) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateX(100%) rotateY(90deg) scale(0.8);
                opacity: 0;
            }
        }
        
        @keyframes rotateInLeft {
            0% {
                transform: translateX(-100%) rotateY(-90deg) scale(0.8);
                opacity: 0;
            }
            100% {
                transform: translateX(0) rotateY(0deg) scale(1);
                opacity: 1;
            }
        }
        
        @keyframes rotateInRight {
            0% {
                transform: translateX(100%) rotateY(90deg) scale(0.8);
                opacity: 0;
            }
            100% {
                transform: translateX(0) rotateY(0deg) scale(1);
                opacity: 1;
            }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Ïä§ÏôÄÏù¥ÌîÑ ÌôîÏÇ¥Ìëú */
        .modal-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.9);
            color: #000000;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10001;
            transition: all 0.3s ease;
        }
        .modal-arrow:hover {
            background: #000000;
            color: #ffffff;
            transform: translateY(-50%) scale(1.1);
        }
        .modal-arrow-left {
            left: 20px;
        }
        .modal-arrow-right {
            right: 20px;
        }
        
        .portfolio-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #ffffff;
            color: #000000;
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1.2rem;
            z-index: 10000;
            transition: all 0.3s ease;
        }
        .portfolio-modal-close:hover {
            background: #000000;
            color: #ffffff;
        }
        .modal-counter {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.9);
            color: #000000;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 700;
            font-size: 1rem;
            z-index: 10000;
        }
        
        .modal-info {
            position: absolute;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            padding: 25px 40px;
            border-radius: 20px;
            max-width: 600px;
            width: 90%;
            z-index: 10000;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .modal-info-title {
            color: #ffffff;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 12px;
        }
        .modal-info-desc {
            color: #e0e0e0;
            font-size: 1rem;
            line-height: 1.6;
        }
        
        /* ÌÜµÍ≥Ñ ÌéòÏù¥ÏßÄ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: #ffffff;
            padding: 30px;
            border-radius: 20px;
            border: 1px solid #e0e0e0;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        body.dark-mode .stat-card {
            background: #111111;
            border-color: #333333;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            background: #000000;
            border: 2px solid #ffffff;
        }
        
        body.dark-mode .stat-card:hover {
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.2);
            background: #ffffff;
            border: 2px solid #000000;
        }
        
        .stat-card:hover .stat-value {
            color: #ffffff;
        }
        .stat-card:hover .stat-label {
            color: #cccccc;
        }
        
        body.dark-mode .stat-card:hover .stat-value {
            color: #000000;
        }
        body.dark-mode .stat-card:hover .stat-label {
            color: #333333;
        }
        
        .stat-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            color: #000000;
        }
        body.dark-mode .stat-icon {
            color: #ffffff;
        }
        .stat-card:hover .stat-icon {
            color: #ffffff;
        }
        body.dark-mode .stat-card:hover .stat-icon {
            color: #000000;
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 900;
            color: #000000;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }
        
        body.dark-mode .stat-value {
            color: #ffffff;
        }
        
        .stat-label {
            font-size: 1rem;
            color: #666666;
            transition: all 0.3s ease;
        }
        
        body.dark-mode .stat-label {
            color: #999999;
        }
        
        .chart-container {
            background: #ffffff;
            padding: 40px;
            border-radius: 20px;
            border: 1px solid #e0e0e0;
            margin-bottom: 30px;
            transition: all 0.3s ease;
        }
        
        body.dark-mode .chart-container {
            background: #111111;
            border-color: #333333;
        }
        
        .chart-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            border: 2px solid #000000;
        }
        
        body.dark-mode .chart-container:hover {
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.15);
            border: 2px solid #ffffff;
        }
        
        .chart-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 30px;
            text-align: center;
            color: #000000;
        }
        
        body.dark-mode .chart-title {
            color: #ffffff;
        }
        
        /* Î™ÖÌï® ÍµêÌôò Ïù¥Î†• */
        .history-card {
            background: #ffffff;
            padding: 25px;
            border-radius: 20px;
            border: 1px solid #e0e0e0;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        body.dark-mode .history-card {
            background: #111111;
            border-color: #333333;
        }
        
        .history-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            background: #000000;
            border: 2px solid #ffffff;
        }
        
        body.dark-mode .history-card:hover {
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0.15);
            background: #ffffff;
            border: 2px solid #000000;
        }
        
        .history-card:hover .history-name {
            color: #ffffff;
        }
        .history-card:hover .history-detail {
            color: #cccccc;
        }
        .history-card:hover .history-time {
            color: #999999;
        }
        
        body.dark-mode .history-card:hover .history-name {
            color: #000000;
        }
        body.dark-mode .history-card:hover .history-detail {
            color: #333333;
        }
        body.dark-mode .history-card:hover .history-time {
            color: #666666;
        }
        
        .history-avatar {
            font-size: 3rem;
        }
        
        .history-info {
            flex: 1;
        }
        
        .history-name {
            font-size: 1.2rem;
            font-weight: 700;
            color: #000000;
            margin-bottom: 5px;
            transition: all 0.3s ease;
        }
        
        body.dark-mode .history-name {
            color: #ffffff;
        }
        
        .history-detail {
            color: #666666;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        body.dark-mode .history-detail {
            color: #999999;
        }
        
        .history-time {
            text-align: right;
            color: #999999;
            font-size: 0.85rem;
            transition: all 0.3s ease;
        }
        
        body.dark-mode .history-time {
            color: #666666;
        }
        
        /* Î≤ÑÌäº Ìò∏Î≤Ñ Ìö®Í≥º */
        .modal-action-btn {
            transition: all 0.3s ease;
        }
        .modal-action-btn:hover {
            background: #ffffff !important;
            color: #000000 !important;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        body.dark-mode .modal-action-btn:hover {
            background: #000000 !important;
            color: #ffffff !important;
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0.2);
        }
        
        /* Î™®Îì† ÌÖçÏä§Ìä∏ ÏöîÏÜå Îã§ÌÅ¨Î™®Îìú */
        body.dark-mode h1,
        body.dark-mode h2,
        body.dark-mode h3,
        body.dark-mode p {
            color: #ffffff !important;
        }
        
        /* ÏÑ§Ï†ï ÌéòÏù¥ÏßÄ Ïπ¥Îìú */
        .settings-card {
            background: #ffffff;
            padding: 25px;
            border-radius: 20px;
            border: 1px solid #e0e0e0;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        body.dark-mode .settings-card {
            background: #111111;
            border-color: #333333;
        }
        .settings-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            border: 2px solid #000000;
        }
        body.dark-mode .settings-card:hover {
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.15);
            border: 2px solid #ffffff;
        }
        .settings-card h3 {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #000000;
        }
        body.dark-mode .settings-card h3 {
            color: #ffffff;
        }
        
        /* QR ÌéòÏù¥ÏßÄ Ïä§ÌÉÄÏùº */
        .qr-container {
            background: #ffffff;
            padding: 40px;
            border-radius: 30px;
            border: 1px solid #e0e0e0;
            text-align: center;
            transition: all 0.3s ease;
        }
        body.dark-mode .qr-container {
            background: #111111;
            border-color: #333333;
        }
        .qr-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            border: 2px solid #000000;
        }
        body.dark-mode .qr-container:hover {
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.15);
            border: 2px solid #ffffff;
        }
        
        #qrCode {
            display: inline-block;
            padding: 15px;
            background: #ffffff;
            border-radius: 15px;
            margin: 20px 0;
            max-width: 320px;
            position: relative;
        }
        
        #qrCode canvas {
            max-width: 100%;
            height: auto !important;
        }
        
        #qrCodeLogo {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #ffffff;
            border: 3px solid #ffffff;
            object-fit: cover;
            z-index: 10;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
        
        body.dark-mode #qrCodeLogo {
            background: #000000;
            border-color: #000000;
        }
        
        .qr-customize {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 30px 0;
            text-align: left;
        }
        
        .qr-customize label {
            display: block;
            color: #666666;
            margin-bottom: 8px;
            font-weight: 600;
        }
        body.dark-mode .qr-customize label {
            color: #cccccc;
        }
        
        .qr-customize input,
        .qr-customize select {
            width: 100%;
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            background: #f8f9fa;
            color: #000000;
            font-size: 14px;
        }
        body.dark-mode .qr-customize input,
        body.dark-mode .qr-customize select {
            background: #0a0a0a;
            border-color: #333333;
            color: #ffffff;
        }
        
        .qr-button {
            width: 100%;
            padding: 16px;
            background: #000000;
            color: #ffffff;
            border: none;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s ease;
        }
        .qr-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            background: #ffffff;
            color: #000000;
            border: 2px solid #000000;
        }
        body.dark-mode .qr-button {
            background: #ffffff;
            color: #000000;
        }
        body.dark-mode .qr-button:hover {
            background: #000000;
            color: #ffffff;
            border: 2px solid #ffffff;
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0.2);
        }
        
        @media (max-width: 768px) {
            .qr-customize {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .edit-panel {
                width: 100%;
                right: -100%;
            }
            .stats-grid {
                grid-template-columns: 1fr;
            }
            .about-content {
                padding: 40px 25px;
            }
            
            .modal-action-btn {
                padding: 15px !important;
                font-size: 1rem !important;
            }
            .modal-action-btn span:first-child {
                font-size: 1.3rem !important;
            }
            
            .modal-arrow {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }
            .modal-arrow-left {
                left: 10px;
            }
            .modal-arrow-right {
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <button class="dark-mode-toggle" onclick="toggleDarkMode()">‚óè Îã§ÌÅ¨Î™®Îìú</button>
    <button class="edit-toggle" onclick="toggleEditMode()">+ Î™ÖÌï® ÏàòÏ†ï</button>

    <div class="edit-panel" id="editPanel">
        <h3>Î™ÖÌï® Ï†ïÎ≥¥ ÏûÖÎ†•</h3>
        
        <div class="form-group">
            <input type="text" id="userName" placeholder="ÌôçÍ∏∏Îèô" oninput="updatePreview()">
        </div>

        <div class="form-group">
            <input type="text" id="userTitle" placeholder="ÎåÄÌëúÏù¥ÏÇ¨" oninput="updatePreview()">
        </div>

        <div class="form-group">
            <input type="text" id="userCompany" placeholder="GOLD:ON" oninput="updatePreview()">
        </div>

        <div class="form-group">
            <input type="text" id="userTagline" placeholder="ÎØ∏ÎûòÎ•º Ïó∞Í≤∞ÌïòÎäî Ïä§ÎßàÌä∏ Î™ÖÌï®" oninput="updatePreview()">
        </div>

        <div class="form-group">
            <input type="tel" id="userPhone" placeholder="010-1234-5678" oninput="updatePreview()">
        </div>

        <div class="form-group">
            <input type="email" id="userEmail" placeholder="hello@goldon.com" oninput="updatePreview()">
        </div>

        <div class="form-group">
            <textarea id="userBio" rows="3" placeholder="Python, JavaScript, React, Node.js, AWS Îì± Î≥¥Ïú† Ïä§ÌÇ¨ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî" oninput="updatePreview()"></textarea>
        </div>

        <div class="form-group">
            <input type="url" id="userWebsite" placeholder="https://www.mysite.com" oninput="updatePreview()">
        </div>

        <div class="form-group">
            <input type="url" id="userNotion" placeholder="https://notion.so/your-page" oninput="updatePreview()">
        </div>

        <div class="form-group">
            <input type="url" id="userYoutube" placeholder="https://youtube.com/@channel" oninput="updatePreview()">
        </div>

        <div class="form-group">
            <input type="url" id="userInstagram" placeholder="https://instagram.com/username" oninput="updatePreview()">
        </div>

        <div class="form-group">
            <input type="url" id="userLinkedin" placeholder="https://linkedin.com/in/username" oninput="updatePreview()">
        </div>

        <div class="form-group">
            <input type="file" id="cardImageUpload" accept="image/*" onchange="handleCardImageUpload(event, 'front')" style="display: none;">
            <button onclick="document.getElementById('cardImageUpload').click()" style="width: 100%; padding: 12px; background: #000000; border: none; border-radius: 12px; color: #ffffff; cursor: pointer; font-weight: 600; margin-bottom: 10px;">
                + Î™ÖÌï® ÏïûÎ©¥ Ïù¥ÎØ∏ÏßÄ
            </button>
        </div>

        <div class="form-group">
            <input type="file" id="cardImageUploadBack" accept="image/*" onchange="handleCardImageUpload(event, 'back')" style="display: none;">
            <button onclick="document.getElementById('cardImageUploadBack').click()" style="width: 100%; padding: 12px; background: #000000; border: none; border-radius: 12px; color: #ffffff; cursor: pointer; font-weight: 600;">
                + Î™ÖÌï® Îí∑Î©¥ Ïù¥ÎØ∏ÏßÄ
            </button>
        </div>

        <div class="form-group">
            <input type="file" id="portfolioUpload" accept="image/*" multiple onchange="handlePortfolioUpload(event)" style="display: none;">
            <button onclick="document.getElementById('portfolioUpload').click()" style="width: 100%; padding: 12px; background: #000000; border: none; border-radius: 12px; color: #ffffff; cursor: pointer; font-weight: 600;">
                + Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ Ï∂îÍ∞Ä
            </button>
            <div id="portfolioPreviewContainer" style="margin-top: 15px; display: flex; flex-direction: column; gap: 15px;">
            </div>
        </div>

        <button class="save-btn" onclick="saveProfile()">Ï†ÄÏû•ÌïòÍ∏∞</button>
        <button class="save-btn" onclick="generateNFCLink()" style="background: #4CAF50; color: #ffffff; margin-top: 10px; display: flex; align-items: center; justify-content: center; gap: 8px;">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
                <line x1="12" y1="18" x2="12.01" y2="18"></line>
            </svg>
            <span>üì± NFC Ïπ¥ÎìúÏö© URL ÏÉùÏÑ±</span>
        </button>
        <p style="color: #666; font-size: 0.85rem; margin: 10px 0; padding: 0 20px; line-height: 1.5; text-align: center;">
            ‚òùÔ∏è Ïù¥ Î≤ÑÌäºÏùÑ ÎàÑÎ•¥Î©¥ Î™ÖÌï® Ï†ïÎ≥¥Í∞Ä Ìè¨Ìï®Îêú URLÏù¥ ÏÉùÏÑ±Îê©ÎãàÎã§.<br>
            Ïù¥ URLÏùÑ NFC Ïπ¥Îìú ÏûëÏÑ± Ïï±(NFC Tools Îì±)Ïóê ÏûÖÎ†•ÌïòÏÑ∏Ïöî!
        </p>
        <button class="save-btn" onclick="toggleEditMode()" style="background: #e0e0e0; color: #000000;">Îã´Í∏∞</button>
    </div>

    <nav class="bottom-nav">
        <a class="nav-item active" onclick="showPage('home')">
            <div class="icon">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <rect x="9" y="14" width="6" height="8" fill="currentColor"></rect>
                </svg>
            </div>
            <div class="label">Ìôà</div>
        </a>
        <a class="nav-item" onclick="showPage('history')">
            <div class="icon">‚â°</div>
            <div class="label">ÍµêÌôòÏù¥Î†•</div>
        </a>
        <a class="nav-item" onclick="showPage('stats')">
            <div class="icon">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                    <rect x="3" y="3" width="5" height="18"></rect>
                    <rect x="10" y="8" width="5" height="13"></rect>
                    <rect x="17" y="13" width="5" height="8"></rect>
                </svg>
            </div>
            <div class="label">ÌÜµÍ≥Ñ</div>
        </a>
        <a class="nav-item" onclick="showPage('qr')">
            <div class="icon">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                    <!-- ÌÅ∞ Ïã≠ÏûêÍ∞Ä Î≥Ñ -->
                    <path d="M12 2 L13.5 10.5 L22 12 L13.5 13.5 L12 22 L10.5 13.5 L2 12 L10.5 10.5 Z"/>
                    <!-- ÏûëÏùÄ Ïã≠ÏûêÍ∞Ä Î≥Ñ -->
                    <path d="M18 5 L18.5 7.5 L21 8 L18.5 8.5 L18 11 L17.5 8.5 L15 8 L17.5 7.5 Z"/>
                </svg>
            </div>
            <div class="label">QRÏÉùÏÑ±</div>
        </a>
        <a class="nav-item" onclick="showPage('settings')">
            <div class="icon">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                    <circle cx="12" cy="12" r="3"/>
                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                </svg>
            </div>
            <div class="label">ÏÑ§Ï†ï</div>
        </a>
    </nav>

    <div class="page active" id="homePage">
        <section class="hero">
            <div class="card-3d-wrapper">
                <div class="card-3d" id="card3d">
                    <div class="card-inner" id="cardInner">
                        <div class="business-card card-front" id="businessCardFront">
                            <div class="card-corner-tl"></div>
                            <div class="card-corner-tr"></div>
                            <div class="card-corner-bl"></div>
                            <div class="card-corner-br"></div>
                            <img class="card-custom-image" id="cardFrontImage" alt="Î™ÖÌï® ÏïûÎ©¥">
                            <div class="card-content">
                                <div class="card-chip"></div>
                                <div class="card-logo">‚óè</div>
                                <div class="card-name" id="displayName">GOLD:ON</div>
                                <div class="card-title" id="displayTitle">ÎîîÏßÄÌÑ∏ Î™ÖÌï® Ï†ÑÎ¨∏Í∞Ä</div>
                                <div class="card-contact">
                                    <div id="displayEmail">hello@goldon.com</div>
                                    <div id="displayPhone">010-1234-5678</div>
                                </div>
                            </div>
                        </div>
                        <div class="business-card card-back" id="businessCardBack">
                            <div class="card-corner-tl"></div>
                            <div class="card-corner-tr"></div>
                            <div class="card-corner-bl"></div>
                            <div class="card-corner-br"></div>
                            <img class="card-custom-image" id="cardBackImage" alt="Î™ÖÌï® Îí∑Î©¥">
                            <div class="card-content" style="display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%;">
                                <div style="font-size: 2rem; margin-bottom: 10px;">‚óè</div>
                                <div class="card-name" style="font-size: 1.2rem; font-weight: 700;">GOLD:ON</div>
                                <div style="font-size: 0.8rem; color: #888; text-align: center;">ÎçîÎ∏îÌÅ¥Î¶≠ÌïòÏó¨ Î¶¨ÏÖã</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="container" style="max-width: 600px; margin-top: 30px; padding: 0 20px;">
                <h2 id="displayCompanyTitle" style="font-size: clamp(2rem, 6vw, 2.8rem); font-weight: 900; text-align: center; margin-bottom: 30px; color: #000000;">ÌöåÏÇ¨Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî</h2>
                
                <p id="displayJobTitle" style="text-align: center; color: #666666; margin-bottom: 50px; font-size: clamp(0.9rem, 3vw, 1.1rem);">ÏßÅÏ±ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî</p>
                
                <div style="margin-bottom: 50px;">
                    <h3 id="displayUserName" style="font-size: clamp(1.4rem, 5vw, 1.8rem); font-weight: 700; text-align: center; margin-bottom: 40px; color: #000000;">ÏÇ¨Ïö©Ïûê Ïù¥Î¶Ñ</h3>
                </div>
                
                <div style="display: flex; flex-direction: column; gap: 15px; margin-bottom: 60px;">
                    <button class="modal-action-btn" onclick="scrollToLinks()" style="width: 100%; padding: 20px; background: #000000; color: #ffffff; border: none; border-radius: 50px; font-size: 1.2rem; font-weight: 700; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 15px; transition: all 0.3s ease;">
                        <span style="font-size: 1.5rem;">@</span>
                        <span>Ïù¥Î©îÏùº</span>
                    </button>
                    
                    <button class="modal-action-btn" onclick="scrollToLinks()" style="width: 100%; padding: 20px; background: #000000; color: #ffffff; border: none; border-radius: 50px; font-size: 1.2rem; font-weight: 700; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 15px; transition: all 0.3s ease;">
                        <span style="font-size: 1.5rem;">‚òé</span>
                        <span>Ï†ÑÌôî</span>
                    </button>
                    
                    <button class="modal-action-btn" onclick="scrollToLinks()" style="width: 100%; padding: 20px; background: #000000; color: #ffffff; border: none; border-radius: 50px; font-size: 1.2rem; font-weight: 700; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 15px; transition: all 0.3s ease;">
                        <span style="font-size: 1.5rem;">‚ó´</span>
                        <span>ÎÖ∏ÏÖò</span>
                    </button>
                    
                    <button class="modal-action-btn" onclick="scrollToLinks()" style="width: 100%; padding: 20px; background: #000000; color: #ffffff; border: none; border-radius: 50px; font-size: 1.2rem; font-weight: 700; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 15px; transition: all 0.3s ease;">
                        <span style="font-size: 1.5rem;">‚äï</span>
                        <span>ÏõπÏÇ¨Ïù¥Ìä∏</span>
                    </button>
                </div>
            </div>
        </section>

        <section class="about-section">
            <div class="container">
                <div class="about-content">
                    <h2>About Me</h2>
                    <div class="about-text" style="margin-bottom: 30px;">ÏûêÍ∏∞ÏÜåÍ∞úÎ•º ÏûÖÎ†•ÌïòÎ©¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§.</div>
                    
                    <div class="skills-card">
                        <div class="icon">‚óÜ</div>
                        <div class="content" id="displayBio">
                            Ïä§ÌÇ¨ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="container" style="margin-top: 50px;">
                <h2 style="text-align: center; font-size: 2.5rem; margin-bottom: 30px; color: #000000;">ÏÜåÏÖú</h2>
                
                <div class="social-info-card">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div class="social-info-icon" style="font-size: 3rem; margin-bottom: 15px;">‚ñ†</div>
                        <h3 class="social-info-title" style="font-size: 1.5rem; font-weight: 700; margin-bottom: 10px;">Ïó∞ÎùΩÏ≤ò Ï†ïÎ≥¥</h3>
                        <p class="social-info-text" style="font-size: 1rem;">Ï†ïÎ≥¥Î•º ÏûÖÎ†•ÌïòÎ©¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§</p>
                    </div>
                </div>
                
                <div id="allLinksContainer" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; max-width: 1200px; margin: 0 auto;"></div>
            </div>
            
            <div class="portfolio-section" style="margin-top: 100px;">
                <h2>Portfolio</h2>
                <div id="portfolioGallery">
                    <p style="text-align: center; color: #888888; padding: 40px;">Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ Ïù¥ÎØ∏ÏßÄÎ•º Ï∂îÍ∞ÄÌïòÎ©¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§</p>
                </div>
            </div>
        </section>
    </div>

    <div class="page" id="historyPage">
        <div class="container">
            <h2 style="font-size: 2.5rem; margin-bottom: 40px; text-align: center; font-weight: 900;">üìá Î™ÖÌï® ÍµêÌôò Ïù¥Î†•</h2>
            
            <div id="historyList">
                <div class="history-card">
                    <div class="history-avatar">‚óè</div>
                    <div class="history-info">
                        <div class="history-name">ÍπÄÏ≤†Ïàò</div>
                        <div class="history-detail">ABC Í∏∞ÏóÖ ‚Ä¢ ÎåÄÎ¶¨</div>
                    </div>
                    <div class="history-time">
                        <div>2024-12-25</div>
                        <div>14:30</div>
                    </div>
                </div>
                
                <div class="history-card">
                    <div class="history-avatar">‚óè</div>
                    <div class="history-info">
                        <div class="history-name">Ïù¥ÏòÅÌù¨</div>
                        <div class="history-detail">XYZ Ïä§ÌÉÄÌä∏ÏóÖ ‚Ä¢ CEO</div>
                    </div>
                    <div class="history-time">
                        <div>2024-12-24</div>
                        <div>11:20</div>
                    </div>
                </div>
                
                <div class="history-card">
                    <div class="history-avatar">‚óè</div>
                    <div class="history-info">
                        <div class="history-name">Î∞ïÎØºÏàò</div>
                        <div class="history-detail">ÌÖåÌÅ¨ ÏÜîÎ£®ÏÖò ‚Ä¢ Í≥ºÏû•</div>
                    </div>
                    <div class="history-time">
                        <div>2024-12-23</div>
                        <div>16:45</div>
                    </div>
                </div>
                
                <div class="history-card">
                    <div class="history-avatar">‚óè</div>
                    <div class="history-info">
                        <div class="history-name">ÏµúÏßÄÏùÄ</div>
                        <div class="history-detail">ÎîîÏûêÏù∏ Ïä§ÌäúÎîîÏò§ ‚Ä¢ ÎîîÏûêÏù¥ÎÑà</div>
                    </div>
                    <div class="history-time">
                        <div>2024-12-22</div>
                        <div>10:15</div>
                    </div>
                </div>
                
                <div class="history-card">
                    <div class="history-avatar">‚óè</div>
                    <div class="history-info">
                        <div class="history-name">Ï†ïÌòÑÏö∞</div>
                        <div class="history-detail">ÎßàÏºÄÌåÖ ÏóêÏù¥Ï†ÑÏãú ‚Ä¢ ÌåÄÏû•</div>
                    </div>
                    <div class="history-time">
                        <div>2024-12-21</div>
                        <div>15:00</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="page" id="statsPage">
        <div class="container">
            <h2 style="font-size: 2.5rem; margin-bottom: 40px; text-align: center; font-weight: 900;">üìä Î™ÖÌï® Ïù∏ÏÇ¨Ïù¥Ìä∏</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">‚ñ£</div>
                    <div class="stat-value" id="statTotalExchanges">0</div>
                    <div class="stat-label">Ï¥ù ÍµêÌôò Î™ÖÌï®</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">‚óâ</div>
                    <div class="stat-value" id="statProfileViews">0</div>
                    <div class="stat-label">ÌîÑÎ°úÌïÑ Ï°∞ÌöåÏàò</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">‚óà</div>
                    <div class="stat-value" id="statLinkClicks">0</div>
                    <div class="stat-label">ÎßÅÌÅ¨ ÌÅ¥Î¶≠Ïàò</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">‚òÖ</div>
                    <div class="stat-value" id="statAverageRating">0.0</div>
                    <div class="stat-label">ÌèâÍ∑† ÌèâÏ†ê</div>
                </div>
            </div>
            
            <div class="chart-container">
                <h3 class="chart-title">ÌÅ¥Î¶≠ Î∂ÑÌè¨</h3>
                <div style="display: flex; justify-content: center; align-items: center; flex-direction: column;">
                    <canvas id="pieChart" width="400" height="400"></canvas>
                    <div style="display: flex; gap: 30px; margin-top: 30px; flex-wrap: wrap; justify-content: center;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 20px; height: 20px; background: #000000; border-radius: 4px;"></div>
                            <span style="color: #666666;">ÏõπÏÇ¨Ïù¥Ìä∏ (35%)</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 20px; height: 20px; background: #333333; border-radius: 4px;"></div>
                            <span style="color: #666666;">Ïù¥Î©îÏùº (25%)</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 20px; height: 20px; background: #666666; border-radius: 4px;"></div>
                            <span style="color: #666666;">SNS (20%)</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 20px; height: 20px; background: #999999; border-radius: 4px;"></div>
                            <span style="color: #666666;">Ï†ÑÌôî (20%)</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="chart-container">
                <h3 class="chart-title">Ï£ºÍ∞Ñ Î™ÖÌï® ÍµêÌôò ÌòÑÌô©</h3>
                <div style="display: flex; justify-content: center; overflow-x: auto;">
                    <canvas id="barChart" width="800" height="300"></canvas>
                </div>
            </div>
        </div>
    </div>

    <div class="page" id="qrPage">
        <div class="container" style="max-width: 600px;">
            <h2 style="font-size: 2.5rem; margin-bottom: 30px; text-align: center; font-weight: 900;">QR ÏΩîÎìú ÏÉùÏÑ±</h2>
            
            <div class="qr-container">
                <div id="qrCode"></div>
                
                <div class="qr-customize">
                    <div>
                        <label>QR ÏÉâÏÉÅ</label>
                        <input type="color" id="qrColor" value="#000000">
                    </div>
                    <div>
                        <label>Î∞∞Í≤Ω ÏÉâÏÉÅ</label>
                        <input type="color" id="qrBgColor" value="#ffffff">
                    </div>
                    <div>
                        <label>QR ÌÅ¨Í∏∞</label>
                        <select id="qrSize">
                            <option value="150">ÏûëÏùå (150px)</option>
                            <option value="200" selected>Ï§ëÍ∞Ñ (200px)</option>
                            <option value="250">ÌÅ¨Í≤å (250px)</option>
                            <option value="300">ÏïÑÏ£º ÌÅ¨Í≤å (300px)</option>
                        </select>
                    </div>
                    <div>
                        <label>ÏóêÎü¨ ÏàòÏ†ï Î†àÎ≤®</label>
                        <select id="qrErrorLevel">
                            <option value="L">ÎÇÆÏùå (Îçî ÎßéÏùÄ Ï†ïÎ≥¥)</option>
                            <option value="M">Ï§ëÍ∞Ñ</option>
                            <option value="Q">ÎÜíÏùå (Î°úÍ≥† Í∂åÏû•)</option>
                            <option value="H" selected>ÏµúÍ≥† (Î°úÍ≥† ÌïÑÏàò)</option>
                        </select>
                    </div>
                    <div style="grid-column: 1 / -1;">
                        <label>Ï§ëÏïô Î°úÍ≥† Ïù¥ÎØ∏ÏßÄ</label>
                        <input type="file" id="qrLogoUpload" accept="image/*" style="display: none;" onchange="handleQRLogoUpload(event)">
                        <button onclick="document.getElementById('qrLogoUpload').click()" style="width: 100%; padding: 12px; background: #000000; border: none; border-radius: 12px; color: #ffffff; cursor: pointer; font-weight: 600; margin-top: 8px;">
                            + Î°úÍ≥† Ïù¥ÎØ∏ÏßÄ ÏóÖÎ°úÎìú
                        </button>
                        <button onclick="removeQRLogo()" style="width: 100%; padding: 12px; background: #666666; border: none; border-radius: 12px; color: #ffffff; cursor: pointer; font-weight: 600; margin-top: 8px;">
                            Î°úÍ≥† Ï†úÍ±∞
                        </button>
                    </div>
                </div>
                
                <button class="qr-button" onclick="generateQRCode()">QR ÏΩîÎìú ÏÉùÏÑ±</button>
                <button class="qr-button" onclick="downloadQRCode()" style="background: #666666;">QR ÏΩîÎìú Îã§Ïö¥Î°úÎìú</button>
            </div>
            
            <div class="qr-container" style="margin-top: 30px;">
                <h3 style="font-size: 1.3rem; font-weight: 700; margin-bottom: 15px;">ÏÇ¨Ïö© Î∞©Î≤ï</h3>
                <p style="color: #666666; font-size: 0.95rem; line-height: 1.8; text-align: left;">
                    1. Î™ÖÌï® Ï†ïÎ≥¥Î•º Î®ºÏ†Ä ÏûÖÎ†•ÌïòÏÑ∏Ïöî (Î™ÖÌï® ÏàòÏ†ï Î≤ÑÌäº)<br>
                    2. <strong>ÏõπÏÇ¨Ïù¥Ìä∏ URLÏùÑ ÏûÖÎ†•ÌïòÎ©¥</strong> Ìï¥Îãπ URLÎ°ú Ïù¥ÎèôÌïòÎäî QR ÏΩîÎìúÍ∞Ä ÏÉùÏÑ±Îê©ÎãàÎã§<br>
                    3. ÏõπÏÇ¨Ïù¥Ìä∏Í∞Ä ÏóÜÏúºÎ©¥ Ïó∞ÎùΩÏ≤ò Ï†ïÎ≥¥Í∞Ä ÌÖçÏä§Ìä∏Î°ú ÌëúÏãúÎê©ÎãàÎã§<br>
                    4. QR ÏΩîÎìú ÏÉâÏÉÅÍ≥º ÌÅ¨Í∏∞Î•º Ïª§Ïä§ÌÑ∞ÎßàÏù¥ÏßïÌï† Ïàò ÏûàÏäµÎãàÎã§<br><br>
                    <strong style="color: #000000;">üí° ÌåÅ:</strong> ÏõπÏÇ¨Ïù¥Ìä∏ URLÏùÑ ÏûÖÎ†•ÌïòÎ©¥ Î™ÖÌï® Ï†ïÎ≥¥Î•º ÏõπÏóêÏÑú Î∞îÎ°ú Î≥º Ïàò ÏûàÏäµÎãàÎã§!
                </p>
            </div>
            
            <div class="qr-container" style="margin-top: 30px;">
                <h3 style="font-size: 1.3rem; font-weight: 700; margin-bottom: 15px;">Ìè¨Ìï®Îêú Ï†ïÎ≥¥</h3>
                <p style="color: #666666; font-size: 0.95rem; line-height: 1.8; text-align: left;" id="qrInfoDisplay">
                    QR ÏΩîÎìúÎ•º ÏÉùÏÑ±ÌïòÎ©¥ Ïó¨Í∏∞Ïóê Ï†ïÎ≥¥Í∞Ä ÌëúÏãúÎê©ÎãàÎã§.
                </p>
            </div>
        </div>
    </div>

    <div class="page" id="settingsPage">
        <div class="container" style="max-width: 600px;">
            <h2 style="font-size: 2rem; margin-bottom: 30px; text-align: center;">‚öôÔ∏è ÏÑ§Ï†ï</h2>
            <div class="settings-card">
                <h3>ÌÖåÎßà ÏÑ§Ï†ï</h3>
                <button onclick="toggleDarkMode()" style="width: 100%; padding: 15px; background: #000000; color: #ffffff; border: none; border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 10px;">
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor" style="flex-shrink: 0;">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                    </svg>
                    <span>Îã§ÌÅ¨Î™®Îìú Ï†ÑÌôò</span>
                </button>
            </div>
            
            <div class="settings-card">
                <h3>Î™ÖÌï® Í≥µÏú†</h3>
                <p style="color: #666666; font-size: 0.9rem; margin-bottom: 15px; line-height: 1.6;">
                    <strong>Ïõπ ÏÑúÎ≤ÑÏóêÏÑú Ïã§ÌñâÏãú:</strong> Í≥µÏú† ÎßÅÌÅ¨Î•º Î≥µÏÇ¨ÌïòÏó¨ Îã§Î•∏ ÏÇ¨ÎûåÏóêÍ≤å Ï†ÑÏÜ°<br>
                    <strong>Î°úÏª¨ ÌååÏùº Ïã§ÌñâÏãú:</strong> QR ÏΩîÎìúÎ•º ÏÉùÏÑ±ÌïòÏó¨ NFC Ïπ¥ÎìúÏóê ÏûÖÎ†•<br><br>
                    üí° GitHub PagesÎÇò NetlifyÏóê Î∞∞Ìè¨ÌïòÎ©¥ ÎßÅÌÅ¨ Í≥µÏú†Î•º ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§.
                </p>
                <button onclick="generateShareURL()" style="width: 100%; padding: 15px; background: #4CAF50; color: #ffffff; border: none; border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 10px;">
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" style="flex-shrink: 0;">
                        <circle cx="18" cy="5" r="3"></circle>
                        <circle cx="6" cy="12" r="3"></circle>
                        <circle cx="18" cy="19" r="3"></circle>
                        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                    </svg>
                    <span>Î™ÖÌï® Í≥µÏú† ÎßÅÌÅ¨/Îç∞Ïù¥ÌÑ∞ Î≥µÏÇ¨</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ Î™®Îã¨ - Ïä§ÏôÄÏù¥ÌîÑ Í∏∞Îä• Ìè¨Ìï® -->
    <div class="portfolio-modal" id="portfolioModal" onclick="closeModalOnBackground(event)">
        <button class="portfolio-modal-close" onclick="closeModal(event)">‚úï</button>
        
        <!-- Ï¢åÏö∞ ÌôîÏÇ¥Ìëú -->
        <button class="modal-arrow modal-arrow-left" onclick="prevImage(event)">‚Äπ</button>
        <button class="modal-arrow modal-arrow-right" onclick="nextImage(event)">‚Ä∫</button>
        
        <div class="modal-content-wrapper" id="modalContentWrapper">
            <img id="modalImage" src="" alt="Ìè¨Ìä∏Ìè¥Î¶¨Ïò§">
        </div>
        <div class="modal-info" id="modalInfo">
            <div class="modal-info-title" id="modalInfoTitle">ÏûëÌíà Ï†úÎ™©</div>
            <div class="modal-info-desc" id="modalInfoDesc">ÏûëÌíà ÏÑ§Î™Ö</div>
        </div>
        <div class="modal-counter" id="modalCounter">1 / 1</div>
    </div>

    <script>
        let isDarkMode = false;
        let isEditMode = false;
        let portfolioImages = [];
        let portfolioTitles = [];
        let portfolioDescriptions = [];
        let isDragging = false;
        let startX = 0, startY = 0;
        let rotateX = 0, rotateY = 0;
        let currentRotateX = 0, currentRotateY = 0;
        let currentModalIndex = 0;
        let currentSlideIndex = 0;
        let qrLogoImage = null;
        
        // ÌÜµÍ≥Ñ Îç∞Ïù¥ÌÑ∞
        let statsData = {
            totalExchanges: 0,
            profileViews: 0,
            linkClicks: 0,
            averageRating: 0
        };
        
        // Ïä§ÏôÄÏù¥ÌîÑ Í¥ÄÎ†® Î≥ÄÏàò
        let touchStartX = 0;
        let touchEndX = 0;
        
        window.addEventListener('load', function() {
            loadProfile();
            showPage('home');
        });
        
        function generateNFCLink() {
            // Î®ºÏ†Ä Ï†ÄÏû•
            const profileData = {
                name: document.getElementById('userName')?.value || '',
                title: document.getElementById('userTitle')?.value || '',
                company: document.getElementById('userCompany')?.value || '',
                phone: document.getElementById('userPhone')?.value || '',
                email: document.getElementById('userEmail')?.value || '',
                bio: document.getElementById('userBio')?.value || '',
                tagline: document.getElementById('userTagline')?.value || '',
                website: document.getElementById('userWebsite')?.value || '',
                notion: document.getElementById('userNotion')?.value || '',
                youtube: document.getElementById('userYoutube')?.value || '',
                instagram: document.getElementById('userInstagram')?.value || '',
                linkedin: document.getElementById('userLinkedin')?.value || '',
                portfolioImages: portfolioImages,
                portfolioTitles: portfolioTitles,
                portfolioDescriptions: portfolioDescriptions
            };
            
            try {
                // Base64 Ïù∏ÏΩîÎî© (UTF-8 ÏßÄÏõê)
                const jsonData = JSON.stringify(profileData);
                const encodedData = btoa(unescape(encodeURIComponent(jsonData)));
                
                // ÌòÑÏû¨ URL ÌôïÏù∏
                const currentUrl = window.location.href;
                const isLocalFile = currentUrl.startsWith('file://');
                
                let nfcLink;
                let message;
                
                if (isLocalFile) {
                    // Î°úÏª¨ ÌååÏùºÏù∏ Í≤ΩÏö∞
                    message = `‚ö†Ô∏è Î°úÏª¨ ÌååÏùºÎ°ú Ïã§Ìñâ Ï§ëÏûÖÎãàÎã§!\n\nÏù¥ HTML ÌååÏùºÏùÑ Ïõπ ÏÑúÎ≤ÑÏóê ÏóÖÎ°úÎìúÌï¥Ïïº NFC Ïπ¥ÎìúÎ•º ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§.\n\nüì§ Î∞∞Ìè¨ Î∞©Î≤ï:\n1. GitHub Pages (Î¨¥Î£å)\n2. Netlify (Î¨¥Î£å)\n3. Vercel (Î¨¥Î£å)\n\nÎ∞∞Ìè¨ ÌõÑ Îã§Ïãú ÏãúÎèÑÌïòÏÑ∏Ïöî.`;
                    alert(message);
                    return;
                } else {
                    // Ïõπ ÏÑúÎ≤ÑÏù∏ Í≤ΩÏö∞
                    const baseUrl = currentUrl.split('?')[0].split('#')[0];
                    nfcLink = `${baseUrl}?card=${encodedData}`;
                    message = `‚úÖ NFC Ïπ¥ÎìúÏö© URLÏù¥ Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!\n\nüì± Ïù¥ URLÏùÑ NFC Ïπ¥Îìú ÏûëÏÑ± Ïï±Ïóê ÏûÖÎ†•ÌïòÏÑ∏Ïöî.\n\nÎã§Î•∏ ÏÇ¨ÎûåÏù¥ Ïπ¥ÎìúÎ•º Ï∞çÏúºÎ©¥ ÎãπÏã†Ïùò Î™ÖÌï®Ïù¥ ÌëúÏãúÎê©ÎãàÎã§!`;
                }
                
                console.log('ÏÉùÏÑ±Îêú NFC ÎßÅÌÅ¨:', nfcLink);
                
                // ÌÅ¥Î¶ΩÎ≥¥Îìú Î≥µÏÇ¨
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(nfcLink).then(() => {
                        alert(message);
                        const btn = event.target;
                        const originalText = btn.innerHTML;
                        btn.innerHTML = '‚úì ÎßÅÌÅ¨ Î≥µÏÇ¨ ÏôÑÎ£å';
                        btn.style.background = '#4CAF50';
                        setTimeout(() => {
                            btn.innerHTML = originalText;
                            btn.style.background = '';
                        }, 2000);
                    }).catch(err => {
                        console.error('Î≥µÏÇ¨ Ïã§Ìå®:', err);
                        fallbackCopyNFC(nfcLink, message);
                    });
                } else {
                    fallbackCopyNFC(nfcLink, message);
                }
            } catch (error) {
                console.error('NFC ÎßÅÌÅ¨ ÏÉùÏÑ± Ïò§Î•ò:', error);
                alert('‚ùå ÎßÅÌÅ¨ ÏÉùÏÑ± Ïã§Ìå®\n\n' + error.message);
            }
        }
        
        // NFC ÎßÅÌÅ¨ Î≥µÏÇ¨ Ìè¥Î∞±
        function fallbackCopyNFC(text, successMessage) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed';
            textarea.style.opacity = '0';
            document.body.appendChild(textarea);
            textarea.select();
            
            try {
                const successful = document.execCommand('copy');
                document.body.removeChild(textarea);
                
                if (successful) {
                    alert(successMessage);
                } else {
                    prompt('Ïù¥ URLÏùÑ NFC Ïπ¥ÎìúÏóê ÏûÖÎ†•ÌïòÏÑ∏Ïöî:', text);
                }
            } catch (err) {
                document.body.removeChild(textarea);
                prompt('Ïù¥ URLÏùÑ NFC Ïπ¥ÎìúÏóê ÏûÖÎ†•ÌïòÏÑ∏Ïöî:', text);
            }
        }
        
        function handleCardImageUpload(event, side) {
            const file = event.target.files[0];
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const imageData = e.target.result;
                    
                    if (side === 'front') {
                        const cardFront = document.getElementById('businessCardFront');
                        const cardImage = document.getElementById('cardFrontImage');
                        if (cardFront && cardImage) {
                            cardImage.src = imageData;
                            cardFront.classList.add('has-custom-design');
                        }
                        localStorage.setItem('cardFrontImage', imageData);
                    } else if (side === 'back') {
                        const cardBack = document.getElementById('businessCardBack');
                        const cardImage = document.getElementById('cardBackImage');
                        if (cardBack && cardImage) {
                            cardImage.src = imageData;
                            cardBack.classList.add('has-custom-design');
                        }
                        localStorage.setItem('cardBackImage', imageData);
                    }
                };
                reader.readAsDataURL(file);
            }
        }
        
        function scrollToLinks() {
            const linksContainer = document.getElementById('allLinksContainer');
            if (linksContainer) {
                linksContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }
        
        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode');
            const btn = document.querySelector('.dark-mode-toggle');
            btn.textContent = isDarkMode ? '‚óã ÎùºÏù¥Ìä∏Î™®Îìú' : '‚óè Îã§ÌÅ¨Î™®Îìú';
            
            if (document.getElementById('statsPage').classList.contains('active')) {
                setTimeout(drawCharts, 100);
            }
            
            // Îã§ÌÅ¨Î™®Îìú Ï†ÑÌôòÏãú Î≤ÑÌäº ÏÉâÏÉÅÎèÑ ÏóÖÎç∞Ïù¥Ìä∏
            const actionBtns = document.querySelectorAll('.modal-action-btn');
            actionBtns.forEach(btn => {
                if (isDarkMode) {
                    btn.style.background = '#ffffff';
                    btn.style.color = '#000000';
                } else {
                    btn.style.background = '#000000';
                    btn.style.color = '#ffffff';
                }
            });
            
            // ÏÜåÏÖú Ïπ¥Îìú Îã§ÌÅ¨Î™®Îìú ÏóÖÎç∞Ïù¥Ìä∏
            updateAllLinks();
        }

        function toggleEditMode() {
            isEditMode = !isEditMode;
            const panel = document.getElementById('editPanel');
            if (isEditMode) {
                panel.classList.add('open');
            } else {
                panel.classList.remove('open');
            }
        }

        function handlePortfolioUpload(event) {
            const files = Array.from(event.target.files);
            if (portfolioImages.length + files.length > 6) {
                alert('ÏµúÎåÄ 6Í∞úÍπåÏßÄÎßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§.');
                return;
            }

            files.forEach(file => {
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        portfolioImages.push(e.target.result);
                        portfolioTitles.push('');
                        portfolioDescriptions.push('');
                        updatePortfolioPreview();
                        updatePortfolioGallery();
                    };
                    reader.readAsDataURL(file);
                }
            });
        }

        function updatePortfolioPreview() {
            const container = document.getElementById('portfolioPreviewContainer');
            if (!container) return;
            container.innerHTML = '';
            
            portfolioImages.forEach((img, index) => {
                const itemWrapper = document.createElement('div');
                itemWrapper.style.cssText = 'background: #f8f9fa; padding: 15px; border-radius: 12px; border: 2px solid #e0e0e0;';
                if (document.body.classList.contains('dark-mode')) {
                    itemWrapper.style.cssText = 'background: #111111; padding: 15px; border-radius: 12px; border: 1px solid #333333;';
                }
                
                itemWrapper.innerHTML = `
                    <div style="position: relative; border-radius: 8px; overflow: hidden; aspect-ratio: 16/9; margin-bottom: 10px;">
                        <img src="${img}" style="width: 100%; height: 100%; object-fit: cover;">
                        <button onclick="removePortfolioImage(${index})" style="position: absolute; top: 8px; right: 8px; background: rgba(0,0,0,0.8); color: #fff; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer; font-size: 1.2rem;">‚úï</button>
                    </div>
                    <input type="text" id="portfolioTitle${index}" placeholder="ÏûëÌíà Ï†úÎ™©" value="${portfolioTitles[index] || ''}" onchange="updatePortfolioInfo(${index}, 'title', this.value)" style="width: 100%; padding: 10px; margin-bottom: 8px; background: #fff; border: 1px solid #e0e0e0; border-radius: 8px; color: #000; font-size: 14px;">
                    <textarea id="portfolioDesc${index}" placeholder="ÏûëÌíà ÏÑ§Î™Ö" onchange="updatePortfolioInfo(${index}, 'desc', this.value)" style="width: 100%; padding: 10px; background: #fff; border: 1px solid #e0e0e0; border-radius: 8px; color: #000; font-size: 14px; resize: vertical; min-height: 60px;">${portfolioDescriptions[index] || ''}</textarea>
                `;
                container.appendChild(itemWrapper);
            });
        }

        function updatePortfolioInfo(index, type, value) {
            if (type === 'title') {
                portfolioTitles[index] = value;
            } else if (type === 'desc') {
                portfolioDescriptions[index] = value;
            }
            updatePortfolioGallery();
        }

        function updatePortfolioGallery() {
            const gallery = document.getElementById('portfolioGallery');
            if (!gallery) return;
            gallery.innerHTML = '';
            
            if (portfolioImages.length === 0) {
                gallery.innerHTML = `<p style="text-align: center; color: ${isDarkMode ? '#888888' : '#888888'}; padding: 40px;">Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ Ïù¥ÎØ∏ÏßÄÎ•º Ï∂îÍ∞ÄÌïòÎ©¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§</p>`;
                return;
            }

            const sliderHTML = `
                <div class="portfolio-slider">
                    <button class="portfolio-nav portfolio-nav-prev" onclick="prevSlide()">‚Äπ</button>
                    <button class="portfolio-nav portfolio-nav-next" onclick="nextSlide()">‚Ä∫</button>
                    <div class="portfolio-slider-container" id="portfolioSliderContainer">
                        ${portfolioImages.map((img, index) => `
                            <div class="portfolio-slide" data-index="${index}">
                                <div class="portfolio-slide-card" onclick="openModal(${index}, event)">
                                    <img src="${img}" alt="${portfolioTitles[index] || 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ ' + (index + 1)}">
                                    <div class="portfolio-overlay">
                                        <div class="title">${portfolioTitles[index] || 'ÏûëÌíà ' + (index + 1)}</div>
                                        <div class="description">${portfolioDescriptions[index] || 'ÌÅ¥Î¶≠ÌïòÏó¨ ÏûêÏÑ∏Ìûà Î≥¥Í∏∞'}</div>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                <div class="portfolio-indicators">
                    ${portfolioImages.map((_, index) => `
                        <div class="portfolio-indicator ${index === 0 ? 'active' : ''}" onclick="goToSlide(${index})"></div>
                    `).join('')}
                </div>
            `;
            
            gallery.innerHTML = sliderHTML;
            currentSlideIndex = 0;
            
            // Ï¥àÍ∏∞ ÏúÑÏπò ÏÑ§Ï†ïÏùÑ ÏïΩÍ∞Ñ ÏßÄÏó∞
            setTimeout(() => {
                updateSliderPosition();
            }, 100);
        }
        
        function updateSliderPosition() {
            const slides = document.querySelectorAll('.portfolio-slide');
            const indicators = document.querySelectorAll('.portfolio-indicator');
            const totalSlides = slides.length;
            
            if (totalSlides === 0) return;
            
            slides.forEach((slide, index) => {
                const offset = index - currentSlideIndex;
                
                if (offset === 0) {
                    // ÌòÑÏû¨ Ïπ¥Îìú (Ï§ëÏïô, Îß® Ïïû)
                    slide.style.transform = 'translateX(0) scale(1) translateZ(0)';
                    slide.style.opacity = '1';
                    slide.style.zIndex = '30';
                    slide.style.pointerEvents = 'auto';
                } else if (offset === 1) {
                    // Îã§Ïùå Ïπ¥Îìú (Ïò§Î•∏Ï™ΩÏóê ÏÇ¥Ïßù Î≥¥ÏûÑ)
                    slide.style.transform = 'translateX(30%) scale(0.9) translateZ(-100px)';
                    slide.style.opacity = '0.6';
                    slide.style.zIndex = '20';
                    slide.style.pointerEvents = 'none';
                } else if (offset === -1) {
                    // Ïù¥Ï†Ñ Ïπ¥Îìú (ÏôºÏ™ΩÏóê ÏÇ¥Ïßù Î≥¥ÏûÑ)
                    slide.style.transform = 'translateX(-30%) scale(0.9) translateZ(-100px)';
                    slide.style.opacity = '0.6';
                    slide.style.zIndex = '20';
                    slide.style.pointerEvents = 'none';
                } else if (offset > 1) {
                    // Ïò§Î•∏Ï™Ω Îí§Ïóê Ïà®Í≤®ÏßÑ Ïπ¥ÎìúÎì§
                    slide.style.transform = 'translateX(40%) scale(0.85) translateZ(-200px)';
                    slide.style.opacity = '0.3';
                    slide.style.zIndex = `${10 - offset}`;
                    slide.style.pointerEvents = 'none';
                } else if (offset < -1) {
                    // ÏôºÏ™Ω Îí§Ïóê Ïà®Í≤®ÏßÑ Ïπ¥ÎìúÎì§
                    slide.style.transform = 'translateX(-40%) scale(0.85) translateZ(-200px)';
                    slide.style.opacity = '0.3';
                    slide.style.zIndex = `${10 + offset}`;
                    slide.style.pointerEvents = 'none';
                }
            });
            
            indicators.forEach((indicator, index) => {
                if (index === currentSlideIndex) {
                    indicator.classList.add('active');
                } else {
                    indicator.classList.remove('active');
                }
            });
        }
        
        function nextSlide() {
            if (portfolioImages.length === 0) return;
            currentSlideIndex = (currentSlideIndex + 1) % portfolioImages.length;
            updateSliderPosition();
        }
        
        function prevSlide() {
            if (portfolioImages.length === 0) return;
            currentSlideIndex = (currentSlideIndex - 1 + portfolioImages.length) % portfolioImages.length;
            updateSliderPosition();
        }
        
        function goToSlide(index) {
            currentSlideIndex = index;
            updateSliderPosition();
        }
        
        // ÌÜµÍ≥Ñ ÏóÖÎç∞Ïù¥Ìä∏ Ìï®Ïàò
        function updateStats() {
            if (!statsData) {
                statsData = {
                    totalExchanges: 0,
                    profileViews: 0,
                    linkClicks: 0,
                    averageRating: 0
                };
            }
            
            document.getElementById('statTotalExchanges').textContent = (statsData.totalExchanges || 0).toLocaleString();
            document.getElementById('statProfileViews').textContent = (statsData.profileViews || 0).toLocaleString();
            document.getElementById('statLinkClicks').textContent = (statsData.linkClicks || 0).toLocaleString();
            document.getElementById('statAverageRating').textContent = (statsData.averageRating || 0).toFixed(1);
            
            // LocalStorageÏóê Ï†ÄÏû•
            localStorage.setItem('nfcStats', JSON.stringify(statsData));
        }
        
        // ÌÜµÍ≥Ñ Î°úÎìú
        function loadStats() {
            try {
                const savedStats = localStorage.getItem('nfcStats');
                if (savedStats) {
                    statsData = JSON.parse(savedStats);
                } else {
                    // Ï¥àÍ∏∞Í∞í ÏÑ§Ï†ï
                    statsData = {
                        totalExchanges: 0,
                        profileViews: 0,
                        linkClicks: 0,
                        averageRating: 0
                    };
                }
                updateStats();
            } catch (error) {
                console.error('ÌÜµÍ≥Ñ Î°úÎìú Ïò§Î•ò:', error);
                statsData = {
                    totalExchanges: 0,
                    profileViews: 0,
                    linkClicks: 0,
                    averageRating: 0
                };
                updateStats();
            }
        }
        
        // ÌîÑÎ°úÌïÑ Ï°∞ÌöåÏàò Ï¶ùÍ∞Ä
        function incrementProfileViews() {
            if (!statsData) loadStats();
            statsData.profileViews = (statsData.profileViews || 0) + 1;
            updateStats();
        }
        
        // ÎßÅÌÅ¨ ÌÅ¥Î¶≠Ïàò Ï¶ùÍ∞Ä
        function incrementLinkClicks() {
            if (!statsData) loadStats();
            statsData.linkClicks = (statsData.linkClicks || 0) + 1;
            updateStats();
        }
        
        // Î™ÖÌï® ÍµêÌôò Ï¶ùÍ∞Ä
        function incrementExchanges() {
            if (!statsData) loadStats();
            statsData.totalExchanges = (statsData.totalExchanges || 0) + 1;
            updateStats();
        }
        
        // QR Î°úÍ≥† ÏóÖÎ°úÎìú Ï≤òÎ¶¨
        function handleQRLogoUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                qrLogoImage = e.target.result;
                
                // Î°úÍ≥†Í∞Ä ÏóÖÎ°úÎìúÎêòÎ©¥ ÏûêÎèôÏúºÎ°ú QR Ïû¨ÏÉùÏÑ±
                if (document.querySelector('#qrCode canvas')) {
                    generateQRCode();
                }
                
                console.log('QR Î°úÍ≥† Ïù¥ÎØ∏ÏßÄÍ∞Ä ÏóÖÎ°úÎìúÎêòÏóàÏäµÎãàÎã§.');
            };
            reader.readAsDataURL(file);
        }
        
        // QR Î°úÍ≥† Ï†úÍ±∞
        function removeQRLogo() {
            qrLogoImage = null;
            
            // Î°úÍ≥† Ïù¥ÎØ∏ÏßÄ ÏöîÏÜå Ï†úÍ±∞
            const logoImg = document.getElementById('qrCodeLogo');
            if (logoImg) {
                logoImg.remove();
            }
            
            // QR ÏΩîÎìúÍ∞Ä ÏûàÏúºÎ©¥ Ïû¨ÏÉùÏÑ±
            if (document.querySelector('#qrCode canvas')) {
                generateQRCode();
            }
            
            console.log('QR Î°úÍ≥†Í∞Ä Ï†úÍ±∞ÎêòÏóàÏäµÎãàÎã§.');
        }
        
        // QR ÏΩîÎìú ÏÉùÏÑ± Ìï®Ïàò
        function generateQRCode() {
            const name = document.getElementById('userName')?.value || 'GOLD:ON';
            const title = document.getElementById('userTitle')?.value || '';
            const company = document.getElementById('userCompany')?.value || '';
            const phone = document.getElementById('userPhone')?.value || '';
            const email = document.getElementById('userEmail')?.value || '';
            const website = document.getElementById('userWebsite')?.value || '';
            
            const qrColor = document.getElementById('qrColor')?.value || '#000000';
            const qrBgColor = document.getElementById('qrBgColor')?.value || '#ffffff';
            const qrSize = parseInt(document.getElementById('qrSize')?.value) || 200;
            const qrErrorLevel = document.getElementById('qrErrorLevel')?.value || 'H';
            
            // QR ÏΩîÎìú Ïª®ÌÖåÏù¥ÎÑà Ï¥àÍ∏∞Ìôî
            const qrCodeDiv = document.getElementById('qrCode');
            qrCodeDiv.innerHTML = '';
            
            let qrData = '';
            let qrType = '';
            
            if (website) {
                // ÏõπÏÇ¨Ïù¥Ìä∏Í∞Ä ÏûàÏúºÎ©¥ URL Ïö∞ÏÑ†
                qrData = website;
                qrType = 'website';
            } else if (name || phone || email) {
                // vCard 3.0 ÌòïÏãù - MECARD Î≥¥Îã§ Ìò∏ÌôòÏÑ± Ï¢ãÏùå
                const vCardLines = [
                    'BEGIN:VCARD',
                    'VERSION:3.0'
                ];
                
                if (name) {
                    // FNÏùÄ ÌïÑÏàò (Full Name)
                    vCardLines.push(`FN:${name}`);
                    // NÏùÄ ÏÑ±;Ïù¥Î¶Ñ ÌòïÏãù (ÌïúÍµ≠ÏãùÏúºÎ°úÎäî Ïù¥Î¶ÑÎßå ÏÇ¨Ïö©)
                    vCardLines.push(`N:${name};;;`);
                }
                
                if (company) {
                    vCardLines.push(`ORG:${company}`);
                }
                
                if (title) {
                    vCardLines.push(`TITLE:${title}`);
                }
                
                if (phone) {
                    // TEL;TYPE=CELL ÌòïÏãùÏù¥ Îçî Ìò∏ÌôòÏÑ± Ï¢ãÏùå
                    vCardLines.push(`TEL;TYPE=CELL:${phone}`);
                }
                
                if (email) {
                    vCardLines.push(`EMAIL;TYPE=INTERNET:${email}`);
                }
                
                if (website) {
                    vCardLines.push(`URL:${website}`);
                }
                
                vCardLines.push('END:VCARD');
                
                // Ï§ÑÎ∞îÍøàÏùÑ \r\nÏúºÎ°ú (vCard ÌëúÏ§Ä)
                qrData = vCardLines.join('\r\n');
                qrType = 'vcard';
                
                console.log('ÏÉùÏÑ±Îêú vCard:', qrData);
            } else {
                qrData = 'GOLD:ON NFC Card';
                qrType = 'text';
            }
            
            try {
                // QRCode.js ÎùºÏù¥Î∏åÎü¨Î¶¨ ÏÇ¨Ïö©
                new QRCode(qrCodeDiv, {
                    text: qrData,
                    width: qrSize,
                    height: qrSize,
                    colorDark: qrColor,
                    colorLight: qrBgColor,
                    correctLevel: QRCode.CorrectLevel[qrErrorLevel]
                });
                
                // Î°úÍ≥† Ïù¥ÎØ∏ÏßÄ Ï∂îÍ∞Ä
                if (qrLogoImage) {
                    setTimeout(() => {
                        const logoImg = document.createElement('img');
                        logoImg.id = 'qrCodeLogo';
                        logoImg.src = qrLogoImage;
                        qrCodeDiv.appendChild(logoImg);
                    }, 100);
                }
                
                // Ìè¨Ìï®Îêú Ï†ïÎ≥¥ ÌëúÏãú
                const infoDisplay = document.getElementById('qrInfoDisplay');
                if (infoDisplay) {
                    if (qrType === 'website') {
                        infoDisplay.innerHTML = `
                            <strong>ÌÉÄÏûÖ:</strong> üåê ÏõπÏÇ¨Ïù¥Ìä∏ ÎßÅÌÅ¨<br>
                            <strong>URL:</strong> ${website}<br><br>
                            ${qrLogoImage ? '<strong>‚úì Ï§ëÏïô Î°úÍ≥† Ìè¨Ìï®</strong><br><br>' : ''}
                            <em style="color: #4CAF50; font-weight: 600;">‚úì QR Ïä§Ï∫î ‚Üí ÏõπÏÇ¨Ïù¥Ìä∏Î°ú Î∞îÎ°ú Ïù¥Îèô</em>
                        `;
                    } else if (qrType === 'vcard') {
                        infoDisplay.innerHTML = `
                            <strong>ÌÉÄÏûÖ:</strong> üìá vCard (Ïó∞ÎùΩÏ≤ò Ï†ÄÏû•)<br><br>
                            ${name ? `<strong>ÏÑ±Ìï®:</strong> ${name}<br>` : ''}
                            ${company ? `<strong>ÌöåÏÇ¨:</strong> ${company}<br>` : ''}
                            ${title ? `<strong>ÏßÅÏ±Ö:</strong> ${title}<br>` : ''}
                            ${phone ? `<strong>Ï†ÑÌôî:</strong> ${phone}<br>` : ''}
                            ${email ? `<strong>Ïù¥Î©îÏùº:</strong> ${email}<br>` : ''}
                            ${qrLogoImage ? '<br><strong>‚úì Ï§ëÏïô Î°úÍ≥† Ìè¨Ìï®</strong><br>' : ''}
                            <br>
                            <em style="color: #4CAF50; font-weight: 600;">‚úì QR Ïä§Ï∫î ‚Üí Ïó∞ÎùΩÏ≤ò Ïï±Ïóê Î∞îÎ°ú Ï†ÄÏû•</em>
                        `;
                    } else {
                        infoDisplay.innerHTML = `
                            <strong style="color: #ff6b6b;">‚ö† Î™ÖÌï® Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî</strong><br><br>
                            <em style="color: #999999;">'Î™ÖÌï® ÏàòÏ†ï' Î≤ÑÌäºÏùÑ ÎàåÎü¨ Ïù¥Î¶Ñ, Ï†ÑÌôîÎ≤àÌò∏, Ïù¥Î©îÏùº Îì±ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî.</em>
                        `;
                    }
                }
                
                console.log('QR ÏΩîÎìú ÏÉùÏÑ± ÏôÑÎ£å - ÌÉÄÏûÖ:', qrType);
            } catch (error) {
                console.error('QR ÏΩîÎìú ÏÉùÏÑ± Ïò§Î•ò:', error);
                qrCodeDiv.innerHTML = '<p style="color: #ff6b6b; padding: 40px; text-align: center;">QR ÏΩîÎìú ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.<br><br>ÏóêÎü¨ ÏàòÏ†ï Î†àÎ≤®ÏùÑ ÎÇÆÏ∂∞Î≥¥ÏÑ∏Ïöî.</p>';
            }
        }
        
        // QR ÏΩîÎìú Îã§Ïö¥Î°úÎìú Ìï®Ïàò
        function downloadQRCode() {
            const qrCodeDiv = document.getElementById('qrCode');
            const canvas = qrCodeDiv.querySelector('canvas');
            
            if (!canvas) {
                const infoDisplay = document.getElementById('qrInfoDisplay');
                if (infoDisplay) {
                    infoDisplay.innerHTML = '<strong style="color: #ff6b6b;">‚ö† Î®ºÏ†Ä QR ÏΩîÎìúÎ•º ÏÉùÏÑ±Ìï¥Ï£ºÏÑ∏Ïöî.</strong>';
                }
                return;
            }
            
            // Î°úÍ≥†Í∞Ä ÏûàÏúºÎ©¥ Ï∫îÎ≤ÑÏä§Ïóê Ìï©ÏÑ±
            if (qrLogoImage) {
                const finalCanvas = document.createElement('canvas');
                const ctx = finalCanvas.getContext('2d');
                
                finalCanvas.width = canvas.width;
                finalCanvas.height = canvas.height;
                
                // QR ÏΩîÎìú Í∑∏Î¶¨Í∏∞
                ctx.drawImage(canvas, 0, 0);
                
                // Î°úÍ≥† Ïù¥ÎØ∏ÏßÄ Í∑∏Î¶¨Í∏∞
                const logoImg = new Image();
                logoImg.onload = function() {
                    const logoSize = canvas.width * 0.25; // QR ÌÅ¨Í∏∞Ïùò 25%
                    const x = (canvas.width - logoSize) / 2;
                    const y = (canvas.height - logoSize) / 2;
                    
                    // Ìù∞ÏÉâ ÏõêÌòï Î∞∞Í≤Ω
                    ctx.fillStyle = '#ffffff';
                    ctx.beginPath();
                    ctx.arc(canvas.width / 2, canvas.height / 2, logoSize / 2 + 5, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Î°úÍ≥†Î•º ÏõêÌòïÏúºÎ°ú ÌÅ¥Î¶¨Ìïë
                    ctx.save();
                    ctx.beginPath();
                    ctx.arc(canvas.width / 2, canvas.height / 2, logoSize / 2, 0, Math.PI * 2);
                    ctx.clip();
                    ctx.drawImage(logoImg, x, y, logoSize, logoSize);
                    ctx.restore();
                    
                    // Îã§Ïö¥Î°úÎìú
                    const link = document.createElement('a');
                    link.download = 'nfc-qr-code-with-logo.png';
                    link.href = finalCanvas.toDataURL();
                    link.click();
                };
                logoImg.src = qrLogoImage;
            } else {
                // Î°úÍ≥† ÏóÜÏù¥ Îã§Ïö¥Î°úÎìú
                const link = document.createElement('a');
                link.download = 'nfc-qr-code.png';
                link.href = canvas.toDataURL();
                link.click();
            }
        }

        // Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ Î™®Îã¨ Ïó¥Í∏∞
        function openModal(index, event) {
            if (event) event.stopPropagation();
            const modal = document.getElementById('portfolioModal');
            const modalImg = document.getElementById('modalImage');
            const counter = document.getElementById('modalCounter');
            const infoTitle = document.getElementById('modalInfoTitle');
            const infoDesc = document.getElementById('modalInfoDesc');
            const wrapper = document.getElementById('modalContentWrapper');
            
            if (modal && modalImg) {
                currentModalIndex = index;
                updateModalContent('none');
                
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                // Ïä§ÏôÄÏù¥ÌîÑ Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Ï∂îÍ∞Ä
                wrapper.addEventListener('touchstart', handleTouchStart, false);
                wrapper.addEventListener('touchend', handleTouchEnd, false);
            }
        }

        // Î™®Îã¨ Ïª®ÌÖêÏ∏† ÏóÖÎç∞Ïù¥Ìä∏ (Ïï†ÎãàÎ©îÏù¥ÏÖò Ìè¨Ìï®)
        function updateModalContent(direction = 'none') {
            const modalImg = document.getElementById('modalImage');
            const counter = document.getElementById('modalCounter');
            const infoTitle = document.getElementById('modalInfoTitle');
            const infoDesc = document.getElementById('modalInfoDesc');
            
            if (direction !== 'none' && modalImg) {
                // Ïï†ÎãàÎ©îÏù¥ÏÖò ÌÅ¥ÎûòÏä§ Ï†úÍ±∞
                modalImg.className = '';
                
                // Î∞©Ìñ•Ïóê Îî∞Îùº Ïï†ÎãàÎ©îÏù¥ÏÖò Ï†ÅÏö©
                if (direction === 'left') {
                    modalImg.classList.add('rotate-in-right');
                } else if (direction === 'right') {
                    modalImg.classList.add('rotate-in-left');
                }
                
                // Ïï†ÎãàÎ©îÏù¥ÏÖò ÌõÑ ÌÅ¥ÎûòÏä§ Ï†úÍ±∞
                setTimeout(() => {
                    if (modalImg) modalImg.className = '';
                }, 500);
            }
            
            if (modalImg) {
                modalImg.src = portfolioImages[currentModalIndex];
            }
            if (counter) {
                counter.textContent = `${currentModalIndex + 1} / ${portfolioImages.length}`;
            }
            if (infoTitle) {
                infoTitle.textContent = portfolioTitles[currentModalIndex] || `ÏûëÌíà ${currentModalIndex + 1}`;
            }
            if (infoDesc) {
                infoDesc.textContent = portfolioDescriptions[currentModalIndex] || 'ÏûëÌíà ÏÑ§Î™ÖÏù¥ ÏóÜÏäµÎãàÎã§.';
            }
        }

        // Ïù¥Ï†Ñ Ïù¥ÎØ∏ÏßÄ
        function prevImage(event) {
            event.stopPropagation();
            if (portfolioImages.length === 0) return;
            
            const modalImg = document.getElementById('modalImage');
            if (modalImg) {
                modalImg.classList.add('rotate-out-right');
                setTimeout(() => {
                    currentModalIndex = (currentModalIndex - 1 + portfolioImages.length) % portfolioImages.length;
                    updateModalContent('right');
                }, 250);
            }
        }

        // Îã§Ïùå Ïù¥ÎØ∏ÏßÄ
        function nextImage(event) {
            event.stopPropagation();
            if (portfolioImages.length === 0) return;
            
            const modalImg = document.getElementById('modalImage');
            if (modalImg) {
                modalImg.classList.add('rotate-out-left');
                setTimeout(() => {
                    currentModalIndex = (currentModalIndex + 1) % portfolioImages.length;
                    updateModalContent('left');
                }, 250);
            }
        }

        // ÌÑ∞Ïπò ÏãúÏûë
        function handleTouchStart(e) {
            touchStartX = e.changedTouches[0].screenX;
        }

        // ÌÑ∞Ïπò ÎÅù (Ïä§ÏôÄÏù¥ÌîÑ Í∞êÏßÄ)
        function handleTouchEnd(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }

        // Ïä§ÏôÄÏù¥ÌîÑ Ï≤òÎ¶¨
        function handleSwipe() {
            const swipeThreshold = 50; // ÏµúÏÜå Ïä§ÏôÄÏù¥ÌîÑ Í±∞Î¶¨
            
            if (touchEndX < touchStartX - swipeThreshold) {
                // ÏôºÏ™ΩÏúºÎ°ú Ïä§ÏôÄÏù¥ÌîÑ - Îã§Ïùå Ïù¥ÎØ∏ÏßÄ
                nextImage(new Event('click'));
            }
            
            if (touchEndX > touchStartX + swipeThreshold) {
                // Ïò§Î•∏Ï™ΩÏúºÎ°ú Ïä§ÏôÄÏù¥ÌîÑ - Ïù¥Ï†Ñ Ïù¥ÎØ∏ÏßÄ
                prevImage(new Event('click'));
            }
        }

        // Î∞∞Í≤Ω ÌÅ¥Î¶≠Ïãú Î™®Îã¨ Îã´Í∏∞
        function closeModalOnBackground(event) {
            if (event.target.id === 'portfolioModal') {
                closeModal(event);
            }
        }

        // Î™®Îã¨ Îã´Í∏∞
        function closeModal(event) {
            if (event) event.stopPropagation();
            const modal = document.getElementById('portfolioModal');
            const wrapper = document.getElementById('modalContentWrapper');
            
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = '';
                
                // Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Ï†úÍ±∞
                wrapper.removeEventListener('touchstart', handleTouchStart);
                wrapper.removeEventListener('touchend', handleTouchEnd);
            }
        }
        

        function removePortfolioImage(index) {
            portfolioImages.splice(index, 1);
            portfolioTitles.splice(index, 1);
            portfolioDescriptions.splice(index, 1);
            updatePortfolioPreview();
            updatePortfolioGallery();
        }

        function saveProfile() {
            const profileData = {
                name: document.getElementById('userName')?.value || '',
                title: document.getElementById('userTitle')?.value || '',
                company: document.getElementById('userCompany')?.value || '',
                phone: document.getElementById('userPhone')?.value || '',
                email: document.getElementById('userEmail')?.value || '',
                bio: document.getElementById('userBio')?.value || '',
                tagline: document.getElementById('userTagline')?.value || '',
                website: document.getElementById('userWebsite')?.value || '',
                notion: document.getElementById('userNotion')?.value || '',
                youtube: document.getElementById('userYoutube')?.value || '',
                instagram: document.getElementById('userInstagram')?.value || '',
                linkedin: document.getElementById('userLinkedin')?.value || '',
                portfolioImages: portfolioImages,
                portfolioTitles: portfolioTitles,
                portfolioDescriptions: portfolioDescriptions
            };
            localStorage.setItem('nfcProfile', JSON.stringify(profileData));
            updatePreview();
            
            const saveBtn = event.target;
            const originalText = saveBtn.innerHTML;
            saveBtn.innerHTML = '‚úì Ï†ÄÏû• ÏôÑÎ£å';
            saveBtn.style.background = '#4CAF50';
            setTimeout(() => {
                saveBtn.innerHTML = originalText;
                saveBtn.style.background = '';
            }, 2000);
        }

        function updatePreview() {
            const name = document.getElementById('userName')?.value || '';
            const title = document.getElementById('userTitle')?.value || '';
            const company = document.getElementById('userCompany')?.value || '';
            const phone = document.getElementById('userPhone')?.value || '';
            const email = document.getElementById('userEmail')?.value || '';
            const bio = document.getElementById('userBio')?.value || 'Î™ÖÌï® ÏàòÏ†ïÏóêÏÑú Ïä§ÌÇ¨ÏùÑ ÏûÖÎ†•ÌïòÎ©¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§.';

            const displayName = document.getElementById('displayName');
            const displayTitle = document.getElementById('displayTitle');
            const displayEmail = document.getElementById('displayEmail');
            const displayPhone = document.getElementById('displayPhone');
            const displayBio = document.getElementById('displayBio');

            if (displayName) displayName.textContent = name || 'GOLD:ON';
            if (displayTitle) displayTitle.textContent = title || 'ÎîîÏßÄÌÑ∏ Î™ÖÌï® Ï†ÑÎ¨∏Í∞Ä';
            if (displayEmail) displayEmail.textContent = email || 'hello@goldon.com';
            if (displayPhone) displayPhone.textContent = phone || '010-1234-5678';
            if (displayBio) displayBio.textContent = bio;

            const displayCompanyTitle = document.getElementById('displayCompanyTitle');
            const displayJobTitle = document.getElementById('displayJobTitle');
            const displayUserName = document.getElementById('displayUserName');

            if (displayCompanyTitle) displayCompanyTitle.textContent = company || 'ÌöåÏÇ¨Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî';
            if (displayJobTitle) displayJobTitle.textContent = title || 'ÏßÅÏ±ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî';
            if (displayUserName) displayUserName.textContent = name || 'ÏÇ¨Ïö©Ïûê Ïù¥Î¶Ñ';

            updateAllLinks();
            updatePortfolioGallery();
        }
        
        function updateAllLinks() {
            const container = document.getElementById('allLinksContainer');
            if (!container) return;
            container.innerHTML = '';
            
            const phone = document.getElementById('userPhone')?.value || '';
            const email = document.getElementById('userEmail')?.value || '';
            
            const allLinks = [
                { value: email, href: `mailto:${email}`, icon: '@', label: 'Ïù¥Î©îÏùº', type: 'contact' },
                { value: phone, href: `tel:${phone.replace(/[^0-9+]/g, '')}`, icon: '‚òé', label: 'Ï†ÑÌôî', type: 'contact' },
                { id: 'userWebsite', icon: '‚äï', label: 'ÏõπÏÇ¨Ïù¥Ìä∏' },
                { id: 'userNotion', icon: '‚ó´', label: 'Notion' },
                { 
                    id: 'userYoutube', 
                    icon: '<svg viewBox="0 0 512 512" style="width: 60px; height: 60px; fill: currentColor;"><path d="M508.6 148.8c0-45-33.1-81.2-74-81.2C379.2 65 322.7 64 265 64h-18c-57.6 0-114.2 1-169.6 3.6C36.6 67.6 3.5 104 3.5 149 1 184.6-.1 220.2 0 255.8c-.1 35.6 1 71.2 3.4 106.9 0 45 33.1 81.5 73.9 81.5 58.2 2.7 117.9 3.9 178.6 3.8 60.8.2 120.3-1 178.6-3.8 40.9 0 74-36.5 74-81.5 2.4-35.7 3.5-71.3 3.4-107 .2-35.6-.9-71.2-3.3-106.9zM207 353.9V157.4l145 98.2-145 98.3z"/></svg>', 
                    label: 'YouTube', 
                    isImage: true 
                },
                { id: 'userInstagram', icon: '‚óâ', label: 'Instagram' },
                { id: 'userLinkedin', icon: '‚óÜ', label: 'LinkedIn' }
            ];
            
            allLinks.forEach(link => {
                let url = '';
                let shouldShow = false;
                
                if (link.type === 'contact') {
                    url = link.href;
                    shouldShow = link.value && link.value.trim() !== '';
                } else {
                    const input = document.getElementById(link.id);
                    url = input?.value || '';
                    shouldShow = url && url.trim() !== '';
                }
                
                if (shouldShow) {
                    const card = document.createElement('div');
                    card.className = 'social-card';
                    
                    card.innerHTML = `
                        <div class="social-icon">${link.icon}</div>
                        <h3>${link.label}</h3>
                        <p>${link.type === 'contact' ? link.value : url}</p>
                    `;
                    
                    card.addEventListener('click', () => {
                        incrementLinkClicks();
                        window.open(url, link.type === 'contact' ? '_self' : '_blank');
                    });
                    
                    container.appendChild(card);
                }
            });
        }

        function loadProfile() {
            const saved = localStorage.getItem('nfcProfile');
            if (saved) {
                const data = JSON.parse(saved);
                if (document.getElementById('userName')) document.getElementById('userName').value = data.name || '';
                if (document.getElementById('userTitle')) document.getElementById('userTitle').value = data.title || '';
                if (document.getElementById('userCompany')) document.getElementById('userCompany').value = data.company || '';
                if (document.getElementById('userPhone')) document.getElementById('userPhone').value = data.phone || '';
                if (document.getElementById('userEmail')) document.getElementById('userEmail').value = data.email || '';
                if (document.getElementById('userBio')) document.getElementById('userBio').value = data.bio || '';
                if (document.getElementById('userTagline')) document.getElementById('userTagline').value = data.tagline || '';
                if (document.getElementById('userWebsite')) document.getElementById('userWebsite').value = data.website || '';
                if (document.getElementById('userNotion')) document.getElementById('userNotion').value = data.notion || '';
                if (document.getElementById('userYoutube')) document.getElementById('userYoutube').value = data.youtube || '';
                if (document.getElementById('userInstagram')) document.getElementById('userInstagram').value = data.instagram || '';
                if (document.getElementById('userLinkedin')) document.getElementById('userLinkedin').value = data.linkedin || '';
                
                if (data.portfolioImages) {
                    portfolioImages = data.portfolioImages;
                    portfolioTitles = data.portfolioTitles || [];
                    portfolioDescriptions = data.portfolioDescriptions || [];
                    
                    while (portfolioTitles.length < portfolioImages.length) {
                        portfolioTitles.push('');
                    }
                    while (portfolioDescriptions.length < portfolioImages.length) {
                        portfolioDescriptions.push('');
                    }
                    
                    updatePortfolioPreview();
                    updatePortfolioGallery();
                }
                
                updatePreview();
            }
            
            const cardFrontImage = localStorage.getItem('cardFrontImage');
            const cardBackImage = localStorage.getItem('cardBackImage');
            
            if (cardFrontImage) {
                const cardFront = document.getElementById('businessCardFront');
                const cardImage = document.getElementById('cardFrontImage');
                if (cardFront && cardImage) {
                    cardImage.src = cardFrontImage;
                    cardFront.classList.add('has-custom-design');
                }
            }
            
            if (cardBackImage) {
                const cardBack = document.getElementById('businessCardBack');
                const cardImage = document.getElementById('cardBackImage');
                if (cardBack && cardImage) {
                    cardImage.src = cardBackImage;
                    cardBack.classList.add('has-custom-design');
                }
            }
        }

        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            
            const pages = {
                'home': 'homePage',
                'history': 'historyPage',
                'stats': 'statsPage',
                'qr': 'qrPage',
                'settings': 'settingsPage'
            };
            
            const pageId = pages[pageName];
            if (pageId && document.getElementById(pageId)) {
                document.getElementById(pageId).classList.add('active');
            }
            
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach((item, index) => {
                const itemPages = ['home', 'history', 'stats', 'qr', 'settings'];
                if (itemPages[index] === pageName) {
                    item.classList.add('active');
                }
            });
            
            if (pageName === 'stats') {
                setTimeout(drawCharts, 100);
            }
        }
        
        function drawCharts() {
            const pieCanvas = document.getElementById('pieChart');
            if (pieCanvas && pieCanvas.getContext) {
                const pieCtx = pieCanvas.getContext('2d');
                const centerX = 200;
                const centerY = 200;
                const radius = 150;
                
                const data = [
                    { label: 'ÏõπÏÇ¨Ïù¥Ìä∏', value: 35, color: '#000000' },
                    { label: 'Ïù¥Î©îÏùº', value: 25, color: '#333333' },
                    { label: 'SNS', value: 20, color: '#666666' },
                    { label: 'Ï†ÑÌôî', value: 20, color: '#999999' }
                ];
                
                let currentAngle = -Math.PI / 2;
                const total = data.reduce((sum, item) => sum + item.value, 0);
                
                pieCtx.clearRect(0, 0, 400, 400);
                
                data.forEach(item => {
                    const sliceAngle = (item.value / total) * 2 * Math.PI;
                    
                    pieCtx.beginPath();
                    pieCtx.arc(centerX, centerY, radius, currentAngle, currentAngle + sliceAngle);
                    pieCtx.lineTo(centerX, centerY);
                    pieCtx.fillStyle = item.color;
                    pieCtx.fill();
                    
                    currentAngle += sliceAngle;
                });
                
                pieCtx.beginPath();
                pieCtx.arc(centerX, centerY, 80, 0, 2 * Math.PI);
                pieCtx.fillStyle = isDarkMode ? '#111111' : '#ffffff';
                pieCtx.fill();
            }
            
            const barCanvas = document.getElementById('barChart');
            if (barCanvas && barCanvas.getContext) {
                const barCtx = barCanvas.getContext('2d');
                
                const barData = [
                    { day: 'Ïõî', value: 12 },
                    { day: 'Ìôî', value: 19 },
                    { day: 'Ïàò', value: 15 },
                    { day: 'Î™©', value: 25 },
                    { day: 'Í∏à', value: 22 },
                    { day: 'ÌÜ†', value: 10 },
                    { day: 'Ïùº', value: 8 }
                ];
                
                const maxValue = Math.max(...barData.map(d => d.value));
                const padding = 50;
                const chartWidth = 800 - (padding * 2);
                const chartHeight = 300 - (padding * 2);
                const barWidth = chartWidth / barData.length - 20;
                
                barCtx.clearRect(0, 0, 800, 300);
                
                barData.forEach((item, index) => {
                    const barHeight = (item.value / maxValue) * chartHeight;
                    const x = padding + (index * (chartWidth / barData.length)) + 10;
                    const y = 300 - padding - barHeight;
                    
                    const gradient = barCtx.createLinearGradient(x, y, x, y + barHeight);
                    gradient.addColorStop(0, '#000000');
                    gradient.addColorStop(1, '#666666');
                    
                    barCtx.fillStyle = gradient;
                    barCtx.fillRect(x, y, barWidth, barHeight);
                    
                    barCtx.fillStyle = isDarkMode ? '#ffffff' : '#000000';
                    barCtx.font = 'bold 14px sans-serif';
                    barCtx.textAlign = 'center';
                    barCtx.fillText(item.day, x + barWidth / 2, 300 - padding + 25);
                    
                    barCtx.fillStyle = '#666666';
                    barCtx.font = 'bold 12px sans-serif';
                    barCtx.fillText(item.value, x + barWidth / 2, y - 10);
                });
            }
        }

        const card3d = document.getElementById('card3d');
        const cardInner = document.getElementById('cardInner');

        card3d.addEventListener('mousedown', startDrag);
        card3d.addEventListener('touchstart', startDrag);
        document.addEventListener('mousemove', drag);
        document.addEventListener('touchmove', drag);
        document.addEventListener('mouseup', stopDrag);
        document.addEventListener('touchend', stopDrag);
        card3d.addEventListener('dblclick', resetCard);

        function startDrag(e) {
            isDragging = true;
            card3d.style.cursor = 'grabbing';
            if (e.type === 'touchstart') {
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
            } else {
                startX = e.clientX;
                startY = e.clientY;
            }
            currentRotateX = rotateX;
            currentRotateY = rotateY;
        }

        function drag(e) {
            if (!isDragging) return;
            e.preventDefault();
            let currentX, currentY;
            if (e.type === 'touchmove') {
                currentX = e.touches[0].clientX;
                currentY = e.touches[0].clientY;
            } else {
                currentX = e.clientX;
                currentY = e.clientY;
            }
            const deltaX = currentX - startX;
            const deltaY = currentY - startY;
            rotateY = currentRotateY + deltaX * 0.5;
            rotateX = currentRotateX - deltaY * 0.5;
            cardInner.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
        }

        function stopDrag() {
            isDragging = false;
            card3d.style.cursor = 'grab';
        }

        function resetCard() {
            rotateX = 0;
            rotateY = 0;
            cardInner.style.transition = 'transform 0.5s ease';
            cardInner.style.transform = 'rotateX(0deg) rotateY(0deg)';
            setTimeout(() => {
                cardInner.style.transition = 'transform 0.1s ease-out';
            }, 500);
        }
        
        // ÌéòÏù¥ÏßÄ Î°úÎìúÏãú Ï¥àÍ∏∞Ìôî
        document.addEventListener('DOMContentLoaded', function() {
            // URL ÌååÎùºÎØ∏ÌÑ∞ÏóêÏÑú Î™ÖÌï® Ï†ïÎ≥¥ Î°úÎìú
            loadFromURL();
            // Î°úÏª¨ Ï†ÄÏû•ÏÜåÏóêÏÑú Î°úÎìú
            loadStats();
            incrementProfileViews();
        });
        
        // URLÏóêÏÑú Î™ÖÌï® Ï†ïÎ≥¥ Î°úÎìú
        function loadFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            const sharedData = urlParams.get('card');
            
            if (sharedData) {
                try {
                    // Base64 ÎîîÏΩîÎî© (UTF-8 ÏßÄÏõê)
                    const jsonData = decodeURIComponent(escape(atob(sharedData)));
                    const profileData = JSON.parse(jsonData);
                    
                    // Î™ÖÌï® Ï†ïÎ≥¥ ÌëúÏãú
                    displaySharedCard(profileData);
                    
                    console.log('Í≥µÏú†Îêú Î™ÖÌï®ÏùÑ Î∂àÎü¨ÏôîÏäµÎãàÎã§.');
                } catch (error) {
                    console.error('Î™ÖÌï® Ï†ïÎ≥¥ Î°úÎìú Ïò§Î•ò:', error);
                }
            }
        }
        
        // Í≥µÏú†Îêú Î™ÖÌï® ÌëúÏãú
        function displaySharedCard(data) {
            // ÌîÑÎ°úÌïÑ Ï†ïÎ≥¥ ÌëúÏãú
            if (document.getElementById('displayName')) {
                document.getElementById('displayName').textContent = data.name || '';
            }
            if (document.getElementById('displayTitle')) {
                document.getElementById('displayTitle').textContent = data.title || '';
            }
            if (document.getElementById('displayCompany')) {
                document.getElementById('displayCompany').textContent = data.company || '';
            }
            if (document.getElementById('displayBio')) {
                document.getElementById('displayBio').textContent = data.bio || '';
            }
            if (document.getElementById('displayTagline')) {
                document.getElementById('displayTagline').textContent = data.tagline || '';
            }
            
            // Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ ÌëúÏãú
            if (data.portfolioImages) {
                portfolioImages = data.portfolioImages;
                portfolioTitles = data.portfolioTitles || [];
                portfolioDescriptions = data.portfolioDescriptions || [];
                updatePortfolioGallery();
            }
            
            // ÏÜåÏÖú ÎßÅÌÅ¨ ÌëúÏãú (Ìé∏Ïßë Î∂àÍ∞Ä)
            updateAllLinks();
        }
        
        // Î™ÖÌï® Í≥µÏú† URL ÏÉùÏÑ±
        function generateShareURL() {
            const profileData = {
                name: document.getElementById('userName')?.value || '',
                title: document.getElementById('userTitle')?.value || '',
                company: document.getElementById('userCompany')?.value || '',
                phone: document.getElementById('userPhone')?.value || '',
                email: document.getElementById('userEmail')?.value || '',
                bio: document.getElementById('userBio')?.value || '',
                tagline: document.getElementById('userTagline')?.value || '',
                website: document.getElementById('userWebsite')?.value || '',
                notion: document.getElementById('userNotion')?.value || '',
                youtube: document.getElementById('userYoutube')?.value || '',
                instagram: document.getElementById('userInstagram')?.value || '',
                linkedin: document.getElementById('userLinkedin')?.value || '',
                portfolioImages: portfolioImages,
                portfolioTitles: portfolioTitles,
                portfolioDescriptions: portfolioDescriptions
            };
            
            try {
                // Base64 Ïù∏ÏΩîÎî© (UTF-8 ÏßÄÏõê)
                const jsonData = JSON.stringify(profileData);
                const encodedData = btoa(unescape(encodeURIComponent(jsonData)));
                
                // ÌòÑÏû¨ URL ÌôïÏù∏
                const currentUrl = window.location.href;
                const isLocalFile = currentUrl.startsWith('file://');
                
                let shareUrl;
                let message;
                
                if (isLocalFile) {
                    // Î°úÏª¨ ÌååÏùºÏù∏ Í≤ΩÏö∞
                    shareUrl = encodedData;
                    message = `üìã Î™ÖÌï® Îç∞Ïù¥ÌÑ∞Í∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!\n\n‚ö†Ô∏è Î°úÏª¨ ÌååÏùº(file://)Î°ú Ïã§Ìñâ Ï§ëÏù¥ÎØÄÎ°ú ÎßÅÌÅ¨ Í≥µÏú†Í∞Ä Î∂àÍ∞ÄÎä•Ìï©ÎãàÎã§.\n\nÎåÄÏã† ÏïÑÎûò Î∞©Î≤ïÏùÑ ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî:\n\n1Ô∏è‚É£ QR ÏΩîÎìú ÏÉùÏÑ±:\n   - QR ÏÉùÏÑ± ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô\n   - ÏõπÏÇ¨Ïù¥Ìä∏ ÏûÖÎ†•ÎûÄÏóê ÏïÑÎ¨¥ URL ÏûÖÎ†•\n   - QR ÏΩîÎìú Ïä§Ï∫îÏãú Ïù¥ Î™ÖÌï® ÌëúÏãú\n\n2Ô∏è‚É£ Ïõπ ÏÑúÎ≤Ñ Î∞∞Ìè¨:\n   - GitHub Pages, Netlify Îì±Ïóê ÏóÖÎ°úÎìú\n   - Ïõπ URLÏóêÏÑú Ïã§ÌñâÌïòÎ©¥ ÎßÅÌÅ¨ Í≥µÏú† Í∞ÄÎä•\n\nüí° Î≥µÏÇ¨Îêú Îç∞Ïù¥ÌÑ∞Îäî ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê ÏûàÏäµÎãàÎã§.`;
                } else {
                    // Ïõπ ÏÑúÎ≤ÑÏù∏ Í≤ΩÏö∞
                    const baseUrl = currentUrl.split('?')[0].split('#')[0];
                    shareUrl = `${baseUrl}?card=${encodedData}`;
                    message = `‚úÖ Í≥µÏú† ÎßÅÌÅ¨Í∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!\n\nÏù¥ ÎßÅÌÅ¨Î•º Îã§Î•∏ ÏÇ¨ÎûåÏóêÍ≤å Î≥¥ÎÇ¥Î©¥ Î™ÖÌï® Ï†ïÎ≥¥Î•º Î≥º Ïàò ÏûàÏäµÎãàÎã§.\n\nQR ÏΩîÎìú ÏÉùÏÑ± ÌéòÏù¥ÏßÄÏóêÏÑú Ïù¥ ÎßÅÌÅ¨Î•º ÏûÖÎ†•ÌïòÎ©¥ QRÎ°úÎèÑ Í≥µÏú†Ìï† Ïàò ÏûàÏäµÎãàÎã§.`;
                }
                
                console.log('ÏÉùÏÑ±Îêú Í≥µÏú† Îç∞Ïù¥ÌÑ∞:', shareUrl);
                
                // ÌÅ¥Î¶ΩÎ≥¥Îìú Î≥µÏÇ¨ ÏãúÎèÑ
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(shareUrl).then(() => {
                        alert(message);
                    }).catch(err => {
                        console.error('ÌÅ¥Î¶ΩÎ≥¥Îìú Î≥µÏÇ¨ Ïã§Ìå®:', err);
                        fallbackCopy(shareUrl, message);
                    });
                } else {
                    // Íµ¨Ìòï Î∏åÎùºÏö∞Ï†Ä Ìè¥Î∞±
                    fallbackCopy(shareUrl, message);
                }
                
                return shareUrl;
            } catch (error) {
                console.error('ÎßÅÌÅ¨ ÏÉùÏÑ± Ïò§Î•ò:', error);
                alert('‚ùå ÎßÅÌÅ¨ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\n\n' + error.message);
            }
        }
        
        // Ìè¥Î∞± Î≥µÏÇ¨ Î∞©Î≤ï
        function fallbackCopy(text, successMessage) {
            // textareaÎ•º Ïù¥Ïö©Ìïú Î≥µÏÇ¨
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed';
            textarea.style.opacity = '0';
            document.body.appendChild(textarea);
            textarea.select();
            textarea.setSelectionRange(0, 99999);
            
            try {
                const successful = document.execCommand('copy');
                document.body.removeChild(textarea);
                
                if (successful) {
                    alert(successMessage || '‚úÖ Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!');
                } else {
                    showLinkInPrompt(text);
                }
            } catch (err) {
                document.body.removeChild(textarea);
                console.error('Ìè¥Î∞± Î≥µÏÇ¨ Ïã§Ìå®:', err);
                showLinkInPrompt(text);
            }
        }
        
        // ÎßÅÌÅ¨Î•º ÌîÑÎ°¨ÌîÑÌä∏Î°ú ÌëúÏãú
        function showLinkInPrompt(text) {
            const userAction = prompt('ÏïÑÎûò ÎÇ¥Ïö©ÏùÑ ÏàòÎèôÏúºÎ°ú Î≥µÏÇ¨ÌïòÏÑ∏Ïöî:\n\n(Ctrl+C ÎòêÎäî Cmd+CÎ°ú Î≥µÏÇ¨)', text);
            if (userAction !== null) {
                alert('üí° Î≥µÏÇ¨ÌñàÎã§Î©¥ QR ÏΩîÎìú ÏÉùÏÑ± ÌéòÏù¥ÏßÄÏóêÏÑú ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§!');
            }
        }
    </script>
</body>
</html>
